(this["webpackJsonprw-cart"]=this["webpackJsonprw-cart"]||[]).push([[0],{154:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(16),r=a.n(s),o=(a(64),a(58)),i=a(59),l=a(6),d=a.n(l),u=a(12),h=a(8),b=a(9),j=a(11),m=a(10),p=(a(66),a(14)),x=a.n(p),O=a(0),v=function(e){var t=e.input?e.input:"LOADING";return console.log("loader details:",e,t),Object(O.jsxs)("div",{className:"loader-blip",style:{color:e.textColor},children:[Object(O.jsx)("div",{className:"loader-text",children:t}),Object(O.jsxs)("ul",{className:"blips",children:[Object(O.jsx)("li",{className:"blip"}),Object(O.jsx)("li",{className:"blip"}),Object(O.jsx)("li",{className:"blip"}),Object(O.jsx)("li",{className:"blip"}),Object(O.jsx)("li",{className:"blip"}),Object(O.jsx)("li",{className:"blip"}),Object(O.jsx)("li",{className:"blip"})]})]})},y=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).loadAccessories=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.loader(n.props.rowContent[2]);case 2:n.content=e.sent,n.subRowCount=n.content.Rows.length;case 4:case"end":return e.stop()}}),e)}))),n.toggleExpanded=Object(u.a)(d.a.mark((function e(){var t,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,a=t.address,c=t.updateSubRows,n.isExpanded=!n.isExpanded,n.content){e.next=5;break}return e.next=5,n.loadAccessories();case 5:n.props.rootParent?(n.rowIndex[a]=n.subRowCount,n.forceUpdate()):c(a,n.isExpanded?n.subRowCount:0);case 6:case"end":return e.stop()}}),e)}))),n.updateSubRows=function(e,t){n.rowIndex[e]=t,n.forceUpdate()},n.state={},n.isExpanded=!1,n.subRowCount=1,n.content=void 0,n.rowIndex={},n}return Object(b.a)(a,[{key:"render",value:function(){var e,t=this.props,a=t.address,n=t.header,c=t.cart,s=t.loader,r=t.addItemToCart,o=(t.backgroundContrast,void 0);this.props.rootParent?(o=this.updateSubRows,e=this.rowIndex):(o=this.props.updateSubRows,e=this.props.rowIndex);var i=this.isExpanded?"expand_less":"expand_more",l=Object(O.jsx)("div",{className:"row-expander btn",onClick:this.toggleExpanded,children:Object(O.jsx)("i",{children:i})}),d=void 0,u=1;return this.isExpanded?(Object.keys(e).forEach((function(t){0===t.indexOf(a)&&(u+=e[t])})),d=this.content?this.content.Rows.map((function(t,n){return Object(O.jsx)("div",{className:"catalog-item-container ".concat(t[19]),children:Object(O.jsx)(g,{address:a,rowContent:t,cart:c,loader:s,addItemToCart:r,updateSubRows:o,rootParent:!1,rowIndex:e})},n)})):Object(O.jsx)(v,{})):u=1,Object(O.jsxs)("div",{className:"collapsible-container",style:{height:52*u+(this.isExpanded?2*u:0)+"px"},children:[Object(O.jsxs)("div",{className:"container-header",children:[l,n]}),Object(O.jsx)("div",{className:"container-accessories",children:d})]})}}]),a}(c.a.Component),f=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).changeMode=function(e){switch(e){case"read":n.props.updateValue(n.state.stateValue),n.setState({mode:"read"});break;case"write":n.setState({mode:"write",stateValue:n.props.value})}},n.changeValue=function(e){n.setState({stateValue:e.target.value})},n.enterValue=function(e){"Enter"===e.key&&n.changeMode("read")},n.handleLoad=function(e){e.target.select()},n.state={mode:"read",stateValue:n.props.value},n}return Object(b.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.mode,n=t.stateValue,c=this.props.value,s=void 0;switch(a){case"read":s=Object(O.jsx)("div",{className:"super-input",children:c});break;case"write":s=Object(O.jsx)("input",{className:"super-input",type:"number",onFocus:this.handleLoad,onBlur:function(){return e.changeMode("read")},onChange:this.changeValue,onKeyPress:this.enterValue,value:n,autoFocus:!0})}return Object(O.jsx)("div",{className:"super-input-container",onClick:function(){return e.changeMode("write")},children:s})}}]),a}(c.a.Component),g=function(e){var t=e.address+"~"+e.rowContent[7]+(null!=e.rowContent[3]?"x"+e.rowContent[0]:""),a=e.rowContent,n=e.cart,c=e.loader,s=e.addItemToCart,r=e.updateSubRows,o=e.rowIndex,i=e.rootParent,l=(e.backgroundContrast,function(a){var n=e.cart,c={address:t,iCode:a[5],id:a[0],type:a[19].toLowerCase(),description:a[7],imgsrc:a[46],rate:a[35],avail:a[22],optional:a[51],parent:a[3]},s=0,r=!1,o=!1;c.avail>0&&(n[c.address]?(o=(s=n[c.address].quantity.actual)>0,c.avail>s&&(r=!0)):r=!0);var i=void 0;i=c.imgsrc?Object(O.jsx)("div",{className:"item-image-thumbnail",children:Object(O.jsx)("img",{src:c.imgsrc})}):Object(O.jsxs)("div",{className:"item-image-thumbnail",children:[Object(O.jsx)("i",{children:"cancel_presentation"}),Object(O.jsx)("br",{}),Object(O.jsx)("span",{children:"No Image"})]});var l="";return c.parent&&(l=c.optional?"optional":"required"),Object(O.jsxs)("ul",{className:"catalog-item-elements",children:[Object(O.jsx)("li",{className:"item-segment item-quantity ".concat(l),children:Object(O.jsxs)("div",{className:"quantity-control",children:[Object(O.jsx)("div",{className:"btn".concat(o?"":" inactive"),onClick:o?function(){return e.addItemToCart(a,c.address,s-1)}:null,children:Object(O.jsx)("i",{children:"remove"})}),Object(O.jsx)("div",{className:"quantity-count",children:Object(O.jsx)(f,{value:s,updateValue:function(t){return e.addItemToCart(a,c.address,t)}})}),Object(O.jsx)("div",{className:"btn".concat(r?"":" inactive"),onClick:r?function(){return e.addItemToCart(a,c.address,s+1)}:null,children:Object(O.jsx)("i",{children:"add"})})]})}),Object(O.jsx)("li",{className:"item-segment item-image",children:i}),Object(O.jsx)("li",{className:"item-segment item-description",children:Object(O.jsx)("div",{className:"row-description",children:c.description})}),Object(O.jsxs)("li",{className:"item-segment item-rate numeric",children:[Object(O.jsx)("div",{className:"grid-label",children:"Rate:"}),Object(O.jsxs)("div",{children:["$ ",c.rate.toFixed(2)]})]})]})}(a)),d=null,u=void 0;switch(a[19]){case"ITEM":case"ACCESSORY":d=Object(O.jsx)("div",{className:"row-expander"}),u=l;break;default:u=Object(O.jsx)(y,{address:t,header:l,rowContent:a,cart:n,loader:c,addItemToCart:s,updateSubRows:r,rowIndex:o,rootParent:i})}return Object(O.jsxs)("div",{className:"catalog-item",children:[d,u]})},N=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).checkMe=function(e){n.props.action(e)},n}return Object(b.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.options,c=t.selected;if(n.length>0){var s=void 0;return Object(O.jsxs)("div",{className:"radio-set",children:[Object(O.jsx)("div",{className:"super-label",children:a}),Object(O.jsx)("ul",{className:"radio-list",children:n.map((function(t,a){var n=c===t.name?"checked":"";return s=t.icon?Object(O.jsx)("i",{className:"",children:t.icon}):t.label,Object(O.jsx)("li",{onClick:function(){return e.checkMe(t)},className:"radio-option ".concat(n),children:s},a)}))})]})}return Object(O.jsx)("div",{className:"radio-set"})}}]),a}(c.a.Component),C=[{name:"grid",value:"G",label:"Grid",icon:"calendar_view_month"},{name:"table",value:"T",label:"Table",icon:"reorder"}],w=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).loadInventory=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.mode="loading",e.next=3,n.props.loader();case 3:(t=e.sent)&&(n.mode="display",n.setState({content:t}));case 5:case"end":return e.stop()}}),e)}))),n.search=function(e){n.setState({searchField:e.target.value})},n.setDisplayMode=function(e){n.setState({displayMode:e})},n.state={displayMode:C[1],content:void 0,searchField:""},n.mode="waiting",n}return Object(b.a)(a,[{key:"componentDidUpdate",value:function(e){x.a.isEqual(this.props,e)||(console.log("a catalog prop has changed"),this.loadInventory())}},{key:"componentDidMount",value:function(){console.log(this.props);var e=this.props,t=e.warehouse,a=e.inventoryType,n=e.category;t&&a&&n&&this.loadInventory()}},{key:"render",value:function(){var e=this.state,t=e.displayMode,a=e.content,n=e.searchField,c=this.props,s=c.cart,r=c.getAccessories,o=c.addItemToCart,i=c.activity,l=c.warehouse,d=c.inventoryType,u=c.category,h=void 0,b=void 0,j=void 0;switch(null!==u&&null!==d&&null!==l&&null!==i||(this.mode="waiting"),this.mode){case"waiting":b=Object(O.jsx)("div",{className:"modal-anchor",children:Object(O.jsx)("div",{className:"modal-content barlow",children:"AWAITING PARAMETERS"})});break;case"loading":b=Object(O.jsx)("div",{className:"modal-anchor",children:Object(O.jsx)("div",{className:"modal-content barlow",children:Object(O.jsx)(v,{})})});break;case"display":j="".concat(i.name,"~").concat(l.name,"~").concat(d.name,"~").concat(u.name);var m=a.Rows.filter((function(e){return e[7].toLowerCase().includes(n.toLowerCase())})),p="";switch(p=m.length>0?null:Object(O.jsx)("div",{className:"modal-anchor",children:Object(O.jsx)("div",{className:"modal-content barlow",children:"No inventory items match this criteria"})}),h=Object(O.jsxs)("div",{className:"search-field",children:[Object(O.jsx)("input",{type:"text",onChange:this.search,value:n,placeholder:"Search..."}),Object(O.jsx)(N,{name:"Display Mode",options:C,selected:t.name,action:this.setDisplayMode})]}),t.name){case"table":b=Object(O.jsxs)("div",{className:"dbw-table",children:[Object(O.jsx)("div",{className:"dbw-thead",children:Object(O.jsxs)("ul",{className:"row-header",children:[Object(O.jsx)("li",{className:"row-expander"}),Object(O.jsx)("li",{className:"item-segment item-quantity",children:"Quantity"}),Object(O.jsx)("li",{className:"item-segment item-image",children:"Image"}),Object(O.jsx)("li",{className:"item-segment item-description",children:"Item"}),Object(O.jsx)("li",{className:"item-segment item-rate",children:"Rate"})]})}),Object(O.jsxs)("div",{className:"dbw-tbody",children:[m.map((function(e,t){return Object(O.jsx)("div",{className:"catalog-item-container ".concat(e[19]),children:Object(O.jsx)(g,{address:j,rowContent:e,cart:s,loader:r,addItemToCart:o,rootParent:!0})},t)})),p]})]});break;case"grid":b=Object(O.jsxs)("div",{className:"dbw-grid",children:[m.map((function(e,t){return Object(O.jsx)("div",{className:"catalog-item-container ".concat(e[19]),children:Object(O.jsx)(g,{address:j,rowContent:e,cart:s,loader:r,addItemToCart:o,rootParent:!0})},t)})),p]})}}return Object(O.jsxs)("section",{className:"catalog",children:[h,b]})}}]),a}(c.a.Component),k=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).toggle=function(){var e=n.state.collapsedBody;n.setState({collapsedBody:!e})},n.state={collapsedBody:!1},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.collapseBody;e&&this.setState({collapsedBody:e})}},{key:"render",value:function(){var e=this,t=this.state.collapsedBody,a=this.props,n=a.isOnlyChild,c=a.branchTier,s=a.label,r=a.parentItemHeader,o=a.items,i={},l=0;o.forEach((function(e){(5===e.branchChain.length||e.isOption)&&(l+=e.quantity.actual*e.rate),i[e.branchChain[c]]||(i[e.branchChain[c]]=[]),i[e.branchChain[c]].push(e)}));var d=void 0;return d=c<5?Object(O.jsxs)("ul",{className:"branch-header",children:[Object(O.jsx)("li",{className:"",children:Object(O.jsx)("i",{className:"collapser-button",onClick:this.toggle,children:t?"expand_more":"expand_less"})}),Object(O.jsx)("li",{className:"cart-col name",children:s}),Object(O.jsx)("li",{className:"cart-col rate numeric",children:l.toFixed(2)})]}):Object(O.jsxs)("ul",{className:"kit-complete-header ".concat(r.parent?"child":"adult"),children:[Object(O.jsx)("li",{className:"",children:Object(O.jsx)("i",{className:"collapser-button",onClick:this.toggle,children:t?"expand_more":"expand_less"})}),Object(O.jsx)("li",{className:"cart-col quantity numeric",children:Object(O.jsx)("div",{className:"super-input-container",children:Object(O.jsx)(f,{value:r.quantity.actual,updateValue:function(t){return e.props.updateCart(r.details,r.branchChain.join("~"),t)}})})}),Object(O.jsx)("li",{className:"cart-col name",children:r.name}),Object(O.jsx)("li",{className:"cart-col rate numeric",children:r.rate.toFixed(2)})]}),Object(O.jsxs)("div",{className:"collapser-container".concat(r?" kit-complete":"").concat(c<5?" branch-container":"").concat(n?" hidden":" show"),children:[Object(O.jsx)("div",{className:"collapser-header",children:d}),Object(O.jsx)("ul",{className:"content-container ".concat(t?"hidden":"show"),children:Object.keys(i).map((function(t){return Object(O.jsx)(S,{branchTier:c+1,label:t,content:i[t],isOnlyChild:1===Object.keys(i).length&&c<4,updateCart:e.props.updateCart})}))})]},s)}}]),a}(c.a.Component),S=function(e){var t=e.branchTier,a=e.label,n=e.content,c=e.isOnlyChild,s=void 0;if(n.length>1||t<5){var r=[];return n.forEach((function(e){e.branchChain.length>t?r.push(e):s=e})),Object(O.jsx)("div",{className:"cart-item".concat(t<5?" branch":"").concat(c?" hide":" show"),children:Object(O.jsx)(k,{branchTier:t,label:a,parentItemHeader:s,items:r,isOnlyChild:c,updateCart:e.updateCart})},a)}var o=n[0].quantity.actual;return(!n[0].parent||n[0].parent&&n[0].isOption)&&(o=Object(O.jsx)(f,{value:n[0].quantity.actual,updateValue:function(t){return e.updateCart(n[0].details,n[0].branchChain.join("~"),t)}})),Object(O.jsx)("div",{className:"cart-item",children:Object(O.jsxs)("ul",{className:"".concat(n[0].isOption?"option":""," ").concat(n[0].parent?"child":"adult"),children:[Object(O.jsx)("li",{className:"cart-col",children:"\u2022"}),Object(O.jsx)("li",{className:"cart-col quantity numeric",children:Object(O.jsx)("div",{className:"super-input-container",children:o})}),Object(O.jsx)("li",{className:"cart-col name",children:n[0].name}),Object(O.jsx)("li",{className:"cart-col rate numeric",children:n[0].rate.toFixed(2)})]})},a)},T=function(e){var t=e.cartList,a=void 0,n=0,c={};Object.keys(t).forEach((function(e){var a=t[e];(5===a.branchChain.length||a.isOption)&&(n+=a.rate*a.quantity.actual),c[a.branchChain[0]]||(c[a.branchChain[0]]=[]),c[a.branchChain[0]].push(a)}));var s=n*e.quotePeriod;a=x.a.isEmpty(t)?Object(O.jsx)("div",{className:"modal barlow",style:{flex:1},children:"Cart Empty"}):Object(O.jsxs)("div",{className:"dbw-table",children:[Object(O.jsx)("div",{className:"dbw-thead",children:Object(O.jsxs)("ul",{className:"dbw-header",children:[Object(O.jsx)("li",{className:"cart-col spacer"}),Object(O.jsx)("li",{className:"cart-col quantity numeric",children:"Q"}),Object(O.jsx)("li",{className:"cart-col name",children:"Item"}),Object(O.jsx)("li",{className:"cart-col rate numeric",children:"Rate"})]})}),Object(O.jsx)("div",{className:"dbw-tbody",children:Object.keys(c).map((function(t){return Object(O.jsx)(S,{branchTier:1,label:t,content:c[t],isOnlyChild:1===Object.keys(c).length,updateCart:e.updateCart})}))})]});var r=s>0?s.toFixed(2):"",o=Object.keys(t).length>0?Object(O.jsxs)("div",{className:"text-button",onClick:e.submitQuote,children:[Object(O.jsx)("i",{children:"send"}),Object(O.jsx)("span",{children:"Submit Quote"})]}):Object(O.jsxs)("div",{className:"text-button disabled",children:[Object(O.jsx)("i",{children:"send"}),Object(O.jsx)("span",{children:"Submit Quote"})]});return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"slide-panel-switch barlow",onClick:e.toggleCart,children:"in"===e.cartMode?Object(O.jsx)("i",{children:"logout"}):Object(O.jsxs)("div",{style:{display:"flex"},children:[Object(O.jsx)("i",{children:"shopping_cart"}),r]})}),Object(O.jsxs)("div",{className:"cart slide-panel ".concat(e.cartMode),children:[Object(O.jsx)("div",{className:"column-header param-set",children:Object(O.jsxs)("h1",{children:[Object(O.jsx)("i",{children:"shopping_cart"}),"CART"]})}),Object(O.jsx)("div",{className:"cart-contents param-set",children:a}),Object(O.jsxs)("div",{className:"cart-summary param-set barlow",children:[Object(O.jsxs)("div",{className:"cart-summary-row",children:[Object(O.jsx)("span",{children:"Daily Subtotal:"}),"$",n.toFixed(2)]}),Object(O.jsxs)("div",{className:"cart-summary-row",children:[Object(O.jsx)("span",{children:"Quote Duration"}),e.quotePeriod," ",e.quotePeriod>1?"Days":"Day"]}),Object(O.jsxs)("div",{className:"cart-summary-row grand",children:[Object(O.jsx)("span",{children:"Total:"}),"$",(n*e.quotePeriod).toFixed(2)]})]}),Object(O.jsxs)("div",{className:"panel-buttons",children:[Object(O.jsxs)("div",{className:"text-button secondary dim",onClick:e.clearCart,children:[Object(O.jsx)("i",{children:"delete_forever"}),Object(O.jsx)("span",{children:"Clear Cart"})]}),o]})]})]})},I=a(13),M=a(41),D=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).getOptions=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({mode:"loading"}),e.next=3,n.props.loader(n.props.filter);case 3:if(!(t=e.sent)){e.next=12;break}e.t0=Object.values(t).length,e.next=0===e.t0?8:1===e.t0?10:11;break;case 8:return n.setState({mode:"empty"}),e.abrupt("break",12);case 10:Object.values(t).forEach((function(e){return n.props.action(e)}));case 11:n.setState({mode:"display",options:t});case 12:case"end":return e.stop()}}),e)}))),n.state={mode:"waiting",options:void 0},n}return Object(b.a)(a,[{key:"componentDidUpdate",value:function(e){x.a.isEqual(this.props,e)||(this.props.reloadOn.includes(null)?this.setState({mode:"waiting",options:void 0}):this.getOptions())}},{key:"componentDidMount",value:function(){this.props.preload&&this.getOptions()}},{key:"render",value:function(){var e,t=this.state,a=t.mode,n=t.options,c=(t.resetValues,this.props),s=c.name,r=c.action,o=c.searchable,i=c.placeholder,l=c.value,d=c.textColor,u={option:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{color:t.isSelected?"white":"black"})},control:function(){return{backgroundColor:"transparent",display:"flex"}},placeholder:function(){return{color:d,opacity:.5,fontStyle:"italic"}},indicatorSeparator:function(e){return Object(I.a)(Object(I.a)({},e),{},{backgroundColor:d})},dropdownIndicator:function(e,t){var a=t.selectProps.isLoading;return Object(I.a)(Object(I.a)({},e),{},{color:d,opacity:a?.5:1,"&:hover":{color:""},padding:"0.5em 0 0.5em 1em"})},singleValue:function(){return{color:d}},loadingIndicator:function(e){return Object(I.a)(Object(I.a)({},e),{},{color:d})},valueContainer:function(e){return Object(I.a)(Object(I.a)({},e),{},{padding:0})}},h=!0,b=null,j=s.substring(0,1).toUpperCase()+s.substring(1);switch(a){case"empty":e="No Options",h=!1;break;case"waiting":e="Awaiting Parameters...";break;case"loading":e="Loading Options...";break;case"display":e=i,h=!1,b=Object.keys(n).map((function(e){return n[e]}))}return Object(O.jsxs)("div",{className:"selector-set",children:[Object(O.jsx)("div",{className:"super-label",children:j}),Object(O.jsx)(M.a,{styles:u,className:"selector ".concat(s,"-select"),classNamePrefix:"".concat(s,"-select"),isLoading:h,options:b,onChange:r,placeholder:e,isSearchable:o,value:l})]})}}]),a}(M.a),P=a(19),E=a.n(P),A=(a(81),function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={},n}return Object(b.a)(a,[{key:"render",value:function(){var e=this.props,t=e.startDate,a=e.endDate,n=e.setDates,c=e.textColor;switch(this.props.mode){case"combined":return Object(O.jsx)("div",{className:"date-selector",children:Object(O.jsx)(E.a,{selected:t,onChange:function(e){return n(e)},startDate:t,endDate:a,selectsRange:!0,inline:!0})});case"start":return Object(O.jsxs)("div",{className:"date-selector ".concat(c),children:[Object(O.jsx)("div",{className:"super-label",children:"Start"}),Object(O.jsx)(E.a,{selected:t,onChange:function(e){return n([e,a])},selectsStart:!0,startDate:t,endDate:a})]});case"end":return Object(O.jsxs)("div",{className:"date-selector ".concat(c),children:[Object(O.jsx)("div",{className:"super-label",children:"End"}),Object(O.jsx)(E.a,{selected:a,onChange:function(e){return n([t,e])},selectsEnd:!0,startDate:t,endDate:a,minDate:t})]})}}}]),a}(E.a)),R=a(25),q=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).submit=function(){var e={},t=!1;Object.keys(n.state).forEach((function(a){e[a]=n.state[a],""===e[a].value&&"Note"!=e[a].label&&(e[a].blank=!0,t=!0)})),t?n.setState(e):n.props.submit(n.state)},n.updateForm=function(e){console.log(e),n.setState((function(t){return Object(R.a)({},e.target.id,Object(I.a)(Object(I.a)({},t[e.target.id]),{},{value:e.target.value}))}))},n.state={project:{label:"Project",value:"",blank:!1,type:"text"},contact:{label:"Contact",value:"",blank:!1,type:"text"},email:{label:"Email",value:"",blank:!1,type:"email"},phone:{label:"Phone",value:"",blank:!1,type:"text"},note:{label:"Note",value:"",blank:!1,type:"textarea"}},n}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return Object(O.jsxs)("div",{className:"modal-layer",children:[Object(O.jsx)("div",{className:"modal",children:Object(O.jsxs)("div",{id:"submitQuote",className:"modal-container",style:{width:"500px"},children:[Object(O.jsx)("div",{className:"modal-header barlow",children:"Request Quote"}),Object(O.jsx)("div",{className:"modal-body",children:Object.keys(this.state).map((function(t){var a=e.state[t];return Object(O.jsxs)("div",{className:"input-set ".concat(a.type),children:[Object(O.jsx)("div",{className:"input-set-label",children:a.label}),"textarea"===a.type?Object(O.jsx)("textarea",{id:t,type:a.type,className:a.blank?"fault":"",onChange:function(t){return e.updateForm(t)},value:a.value}):Object(O.jsx)("input",{id:t,type:a.type,className:a.blank?"fault":"",onChange:function(t){return e.updateForm(t)},value:a.value})]})}))}),Object(O.jsxs)("div",{className:"panel-buttons",children:[Object(O.jsxs)("div",{className:"text-button secondary dim",onClick:this.props.cancel,children:[Object(O.jsx)("i",{children:"do_disturb"}),Object(O.jsx)("span",{children:"Cancel"})]}),Object(O.jsxs)("div",{className:"text-button",onClick:this.submit,children:[Object(O.jsx)("i",{children:"send"}),Object(O.jsx)("span",{children:"Submit"})]})]})]})}),Object(O.jsx)("div",{className:"modal-backdrop abs",onClick:this.props.cancel})]})}}]),a}(c.a.Component),F=function(e,t,a){t/=100,a/=100;var n=(1-Math.abs(2*a-1))*t,c=n*(1-Math.abs(e/60%2-1)),s=a-n/2,r=0,o=0,i=0;return 0<=e&&e<60?(r=n,o=c,i=0):60<=e&&e<120?(r=c,o=n,i=0):120<=e&&e<180?(r=0,o=n,i=c):180<=e&&e<240?(r=0,o=c,i=n):240<=e&&e<300?(r=c,o=0,i=n):300<=e&&e<360&&(r=n,o=0,i=c),r=Math.round(255*(r+s)).toString(16),o=Math.round(255*(o+s)).toString(16),i=Math.round(255*(i+s)).toString(16),1==r.length&&(r="0"+r),1==o.length&&(o="0"+o),1==i.length&&(i="0"+i),"#"+r+o+i},L=function(e){var t=e.colors,a=e.setColors,n=function(e,n){var c=function(e){var t=0,a=0,n=0;4==e.length?(t="0x"+e[1]+e[1],a="0x"+e[2]+e[2],n="0x"+e[3]+e[3]):7==e.length&&(t="0x"+e[1]+e[2],a="0x"+e[3]+e[4],n="0x"+e[5]+e[6]),t/=255,a/=255,n/=255;var c=Math.min(t,a,n),s=Math.max(t,a,n),r=s-c,o=0,i=0;return o=0==r?0:s==t?(a-n)/r%6:s==a?(n-t)/r+2:(t-a)/r+4,(o=Math.round(60*o))<0&&(o+=360),i=(s+c)/2,{hue:o,sat:+(100*(0==r?0:r/(1-Math.abs(2*i-1)))).toFixed(1),lum:i=+(100*i).toFixed(1)}}(e.target.value),s=x.a.clone(t);s[n]=c,console.log("changing colors:",s),a(s)};return console.log("rendering with",t),Object(O.jsx)("div",{className:"modal-anchor",children:Object(O.jsx)("div",{className:"modal-content draggable",children:Object(O.jsxs)("div",{className:"modal-container",children:[Object(O.jsx)("div",{className:"modal-header barlow",children:"Colorize"}),Object(O.jsxs)("div",{className:"modal-body",children:[Object(O.jsxs)("div",{className:"color-node",children:[Object(O.jsx)("input",{type:"color",id:"primary",onChange:function(e){return n(e,"primary")},value:F(t.primary.hue,t.primary.sat,t.primary.lum)}),Object(O.jsx)("label",{htmlFor:"primary",children:"Primary Color"})]}),Object(O.jsxs)("div",{className:"color-node",children:[Object(O.jsx)("input",{type:"color",id:"secondary",onChange:function(e){return n(e,"secondary")},value:F(t.secondary.hue,t.secondary.sat,t.secondary.lum)}),Object(O.jsx)("label",{htmlFor:"secondary",children:"Secondary Color"})]}),Object(O.jsxs)("div",{className:"color-node",children:[Object(O.jsx)("input",{type:"color",id:"background",onChange:function(e){return n(e,"background")},value:F(t.background.hue,t.background.sat,t.background.lum)}),Object(O.jsx)("label",{htmlFor:"background",children:"Background Color"})]})]})]})})})},V="https://demo.rentalworksweb.com/api/v1",_=[{name:"RENTAL",code:"R",label:"Rental"},{name:"SALES",code:"S",label:"Sales"},{name:"PARTS",code:"P",label:"Parts"}],B=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).addItemToCart=function(){var t=Object(u.a)(d.a.mark((function t(a,n,c){var s,r,o,l,h,b,j,m,p;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=e.state,r=s.cartList,o=s.activity,l=s.warehouse,h=s.inventoryType,b=s.category,j=x.a.isEmpty(r),m=function(){var t=Object(u.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAccessories(a.id);case 2:return n=t.sent,t.next=5,Promise.all(n.Rows.map(function(){var e=Object(u.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t,n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));case 5:t.sent;case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(d.a.mark((function e(t,a,n){var s,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n?t[52]:1,"ITEM"==(u={branchChain:n?[].concat(Object(i.a)(n.branchChain),[t[7]+"x"+t[0]]):[o.name,l.name,h.name,b.name,t[7]],quantity:{actual:t[51]?0:Math.ceil(s*c),fraction:t[51]?0:s*c,default:s},available:t[22],details:t,icode:t[5],id:t[2],index:a,name:t[7],parent:n,rate:t[35],type:t[19],isOption:t[51],isShort:!1,activity:o,warehouse:l,inventoryType:h,category:b}).type||"ACCESSORY"==u.type){e.next=5;break}return e.next=5,m(u);case 5:r[u.branchChain.join("~")]=u;case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),console.log("q is",c,"and availability is",a[22]),c=Math.min(c,a[22]),!r[n]){t.next=10;break}Object.keys(r).forEach((function(e){0===e.indexOf(n)&&(c<=0&&!r[n].isOption?delete r[e]:(r[e].isOption?r[e].isOption&&e===n&&(r[e].quantity.fraction=c):r[e].quantity.fraction=r[e].quantity.default*c,r[e].quantity.fraction<0&&(r[e].quantity.fraction=0),r[e].quantity.actual=Math.ceil(r[e].quantity.fraction)))})),t.next=13;break;case 10:if(a[51]||0==c){t.next=13;break}return t.next=13,p(a);case 13:j&&e.toggleCart("in"),console.log("cartList:",r),e.setState({cartList:r});case 16:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),e.clearCart=function(){e.setState({cartList:{}})},e.changeRoute=function(t){e.setState({route:t})},e.getCategories=Object(u.a)(d.a.mark((function t(){var a,n,c,s,r,o,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,n=a.credentials,c=a.activity,s=a.inventoryType,!e.state.inventoryType){t.next=14;break}return e.page=1,t.next=5,fetch("".concat(V,"/").concat(c.name,"category/browse"),{method:"POST",headers:{Authorization:"Bearer ".concat(n.access_token),"content-type":"application/json"},body:JSON.stringify({orderby:"Category",searchfieldoperators:["<>","="],searchfields:["Inactive","InventoryTypeId"],searchfieldtypes:["Text","Text"],searchfieldvalues:["T","".concat(s.id)],searchseparators:[","]})}).catch((function(e){return console.log(e)}));case 5:return r=t.sent,t.next=8,r.json();case 8:return o=t.sent,i={},o.Rows.forEach((function(e,t){i[e[2]]={id:e[2],value:e[2],name:e[3],label:e[3],index:t}})),t.abrupt("return",i);case 14:return t.abrupt("return",void 0);case 15:case"end":return t.stop()}}),t)}))),e.getCredentials=function(){fetch("".concat(V,"/jwt"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({UserName:"joshua",Password:"icardius"})}).then((function(e){return e.json()})).then((function(t){console.log("api credentials:",t),e.setState({credentials:t})})).catch((function(e,t){console.log(e,"response:",t)}))},e.getInventory=Object(u.a)(d.a.mark((function t(){var a,n,c,s,r,o,i,l,u;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,n=a.warehouse,c=a.activity,s=a.inventoryType,r=a.category,o=a.startDate,i=a.endDate,!(n&&s&&r)){t.next=12;break}return t.next=4,fetch("".concat(V,"/inventorysearch/search"),{method:"POST",headers:{Authorization:"Bearer ".concat(e.state.credentials.access_token),"content-type":"application/json"},body:JSON.stringify({OrderId:"0000KG53",SessionId:"0000KG53",CurrencyId:"0000000E",WarehouseId:n.id,AvailableFor:c.code,InventoryTypeId:s.id,CategoryId:r.id,Classifiction:"",FromDate:o,ToDate:i,HideInventoryWithZeroQuantity:!0,ShowAvailability:!0,ShowImages:!0})}).catch((function(e){return console.log("error:",e)}));case 4:return l=t.sent,t.next=7,l.json();case 7:return u=t.sent,console.log("loaded inventory:",u),t.abrupt("return",u);case 12:return t.abrupt("return",null);case 13:case"end":return t.stop()}}),t)}))),e.getAccessories=function(){var t=Object(u.a)(d.a.mark((function t(a){var n,c,s,r,o,i,l,u;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state,c=n.warehouse,n.activity,s=n.inventoryType,r=n.category,o=n.startDate,i=n.endDate,!(c&&s&&r)){t.next=12;break}return t.next=4,fetch("".concat(V,"/inventorysearch/accessories"),{method:"POST",headers:{Authorization:"Bearer ".concat(e.state.credentials.access_token),"content-type":"application/json"},body:JSON.stringify({OrderId:"0000KG53",SessionId:"0000KG53",Lineage:a,WarehouseId:c.id,FromDate:o,ToDate:i,ShowAvailability:!0,ShowImages:!0})}).catch((function(e){return console.log("error:",e)}));case 4:return l=t.sent,t.next=7,l.json();case 7:return u=t.sent,console.log("loaded accessories:",u),t.abrupt("return",u);case 12:return t.abrupt("return",null);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getInventoryTypes=function(){var t=Object(u.a)(d.a.mark((function t(a){var n,c,s,r,o,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,c=n.credentials,s=n.activity,n.warehouse,t.next=3,fetch("".concat(V,"/inventorytype/browse"),{method:"POST",headers:{Authorization:"Bearer ".concat(c.access_token),"content-type":"application/json"},body:JSON.stringify({orderby:"OrderBy",searchfieldoperators:["<>","="],searchfields:["Inactive",s.label],searchfieldtypes:["Text","Boolean"],searchfieldvalues:["T",!0]})}).catch((function(e){return console.log(e)}));case 3:return r=t.sent,t.next=6,r.json();case 6:return o=t.sent,i={},o.Rows.forEach((function(e,t){i[e[0]]={id:e[0],value:e[0],name:e[1],label:e[1],index:t}})),t.abrupt("return",i);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getWarehouses=function(){var t=Object(u.a)(d.a.mark((function t(a){var n,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(V,"/warehouse/browse"),{method:"POST",headers:{Authorization:"Bearer ".concat(e.state.credentials.access_token),"content-type":"application/json"},body:JSON.stringify({orderby:"Warehouse",searchfieldoperators:["<>"],searchfields:["Inactive"],searchfieldtypes:["Text"],searchfieldvalues:["T"]})}).catch((function(e){return console.log(e)}));case 2:return n=t.sent,t.next=5,n.json();case 5:return c=t.sent,s={},c.Rows.forEach((function(e,t){s[e[0]]={id:e[0],value:e[0],name:e[1],label:e[1],code:e[2],index:t}})),t.abrupt("return",s);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.setMainModal=function(t){e.setState({mainModal:t})},e.setCategory=function(t){t?e.setState({category:t}):console.log("category not set")},e.setDates=function(t){var a=Object(o.a)(t,2),n=a[0],c=a[1],s=e.getNumberOfDays(n,c);e.setState({startDate:n,endDate:c,quotePeriod:s})},e.setInventoryType=function(t){t?e.setState({inventoryType:t,category:null}):console.log("inventoryType not set")},e.setActivity=function(t){e.setState({activity:t,inventoryType:null})},e.setWarehouse=function(t){t?e.setState({warehouse:t}):console.log("warehouse not set")},e.submitModal=function(){var t=Object(O.jsx)(q,{submit:e.submitQuote,cancel:function(){return e.setMainModal(null)}});e.setMainModal(t)},e.submitQuote=function(t){console.log(t);var a=Object(O.jsxs)("div",{className:"modal-layer",children:[Object(O.jsx)("div",{className:"modal",children:Object(O.jsxs)("div",{id:"submitQuote",className:"modal-container",children:[Object(O.jsx)("div",{className:"modal-header barlow",children:"Confirmation"}),Object(O.jsx)("div",{className:"modal-body",style:{padding:"50px"},children:"Quote Requested!"}),Object(O.jsx)("div",{className:"panel-buttons",children:Object(O.jsxs)("div",{className:"text-button secondary dim",onClick:function(){return e.setMainModal(null)},children:[Object(O.jsx)("i",{children:"do_disturb"}),Object(O.jsx)("span",{children:"Close"})]})})]})}),Object(O.jsx)("div",{className:"modal-backdrop abs",onClick:function(){return e.setMainModal(null)}})]});e.setState({route:"catalog",mainModal:a,activity:_[0],inventoryType:null,category:null,subcategory:null,cartList:{},startDate:new Date,endDate:new Date,quotePeriod:1,cartMode:"out"})},e.showColorsModal=function(){e.setState({showColorsModal:!e.state.showColorsModal})},e.setColors=function(t){Object.keys(t).forEach((function(e){t[e].contrast="black",t[e].max="0%",t[e].min="100%";var a=t[e],n=a.hue,c=a.lum;(c<40||c<70&&(n<45||n>185))&&(t[e].contrast="white",t[e].max="100%",t[e].min="0%")})),e.setState({colors:t})},e.renderColors=function(){var t=e.state.colors;Object.keys(t).forEach((function(e){document.body.style.setProperty("--".concat(e,"-hue"),t[e].hue),document.body.style.setProperty("--".concat(e,"-sat"),t[e].sat+"%"),document.body.style.setProperty("--".concat(e,"-lum"),t[e].lum+"%"),document.body.style.setProperty("--".concat(e,"-contrast"),t[e].contrast),document.body.style.setProperty("--".concat(e,"-max"),t[e].max),document.body.style.setProperty("--".concat(e,"-min"),t[e].min)}))},e.toggleCart=function(t){var a=e.state.cartMode,n=void 0;n="string"===typeof t?t:"in"===a?"out":"in",e.setState({cartMode:n})},e.getNumberOfDays=function(e,t){var a=new Date(e),n=new Date(t).getTime()-a.getTime();return Math.round(n/864e5)+1},e.state={route:"home",mainModal:null,credentials:null,activity:_[0],inventoryType:null,category:null,subCategory:null,warehouse:null,customer:"",email:"",cartList:{},startDate:new Date,endDate:new Date,quotePeriod:1,cartMode:"out",showColorModal:!1,colors:{primary:{hue:parseInt(getComputedStyle(document.body).getPropertyValue("--primary-hue")),sat:parseInt(getComputedStyle(document.body).getPropertyValue("--primary-sat").slice(0,-1)),lum:parseInt(getComputedStyle(document.body).getPropertyValue("--primary-lum").slice(0,-1))},secondary:{hue:parseInt(getComputedStyle(document.body).getPropertyValue("--secondary-hue")),sat:parseInt(getComputedStyle(document.body).getPropertyValue("--secondary-sat").slice(0,-1)),lum:parseInt(getComputedStyle(document.body).getPropertyValue("--secondary-lum").slice(0,-1))},background:{hue:parseInt(getComputedStyle(document.body).getPropertyValue("--background-hue")),sat:parseInt(getComputedStyle(document.body).getPropertyValue("--background-sat").slice(0,-1)),lum:parseInt(getComputedStyle(document.body).getPropertyValue("--background-lum").slice(0,-1))}}},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.setColors(this.state.colors),this.getCredentials()}},{key:"render",value:function(){var e,t,a,n,c,s=this,r=this.state,o=r.route,i=r.mainModal,l=r.warehouse,d=r.activity,u=r.inventoryType,h=r.category,b=(r.subcategory,r.startDate),j=r.endDate,m=r.quotePeriod,p=r.cartList,x=r.cartMode,y=r.showColorsModal,f=r.colors,g=void 0;this.renderColors();var C=f.primary,k=(f.secondary,f.background);switch(o){case"home":e=Object(O.jsxs)("div",{className:"header-banner",children:[Object(O.jsx)("div",{className:"banner-content",children:Object(O.jsx)("h1",{children:"Welcome!"})}),Object(O.jsx)("div",{className:"banner-background",children:Object(O.jsx)("img",{src:"https://h7f7z2r7.stackpathcdn.com/sites/default/files/images/articles/blakcstonemain.jpg"})})]}),n=Object(O.jsx)("div",{});break;case"catalog":if(this.state.credentials)switch(this.state.credentials.statuscode){case 0:t=y?Object(O.jsx)(L,{colors:f,setColors:this.setColors}):"",a=Object(O.jsx)("div",{className:"column",children:Object(O.jsxs)("div",{className:"parameters",style:{color:C.contrast,borderColor:C.contrast},children:[Object(O.jsx)("div",{className:"column-header param-set",children:Object(O.jsxs)("h1",{children:[Object(O.jsx)("i",{children:"tune"}),"PARAMETERS"]})}),Object(O.jsxs)("div",{className:"param-set",children:[Object(O.jsx)(A,{startDate:b,endDate:j,mode:"start",setDates:this.setDates,textColor:C.contrast}),Object(O.jsx)(A,{startDate:b,endDate:j,mode:"end",setDates:this.setDates,textColor:C.contrast})]}),Object(O.jsx)("div",{className:"param-set",children:Object(O.jsx)(N,{name:"Activity Type",options:_,selected:d.name,action:this.setActivity})}),Object(O.jsx)("div",{className:"param-set",children:Object(O.jsx)(D,{name:"warehouse",loader:this.getWarehouses,action:this.setWarehouse,reloadOn:[d],placeholder:"Select a Warehouse",searchable:!1,textColor:C.contrast,preload:!0})}),Object(O.jsx)("div",{className:"param-set",children:Object(O.jsx)(D,{name:"Inventory Type",loader:this.getInventoryTypes,action:this.setInventoryType,reloadOn:[d,l],placeholder:"Select an Inventory Type",searchable:!0,textColor:C.contrast,value:u})}),Object(O.jsx)("div",{className:"param-set",children:Object(O.jsx)(D,{name:"category",loader:this.getCategories,action:this.setCategory,reloadOn:[d,l,u],placeholder:"Select a Category",searchable:!0,textColor:C.contrast,value:h})})]})}),n=Object(O.jsxs)("div",{className:"column center",style:{color:k.contrast,borderColor:k.contrast},children:[Object(O.jsx)("div",{className:"column-header param set",children:Object(O.jsxs)("h1",{children:[Object(O.jsx)("i",{children:"menu_book"}),d.label.toUpperCase()," CATALOG"]})}),Object(O.jsx)(w,{loader:this.getInventory,getAccessories:this.getAccessories,activity:d,warehouse:l,inventoryType:u,category:h,startDate:b,endDate:j,addItemToCart:this.addItemToCart,cart:p})]}),c=Object(O.jsx)("div",{className:"column right",children:Object(O.jsx)(T,{cartMode:x,cartList:p,activityList:_,quotePeriod:m,updateCart:this.addItemToCart,clearCart:this.clearCart,submitQuote:this.submitModal,toggleCart:this.toggleCart})}),g=Object(O.jsxs)("article",{children:[t,i,Object(O.jsx)("div",{className:"body-margin"}),Object(O.jsxs)("div",{className:"body-main",children:[a,n]}),Object(O.jsx)("div",{className:"body-margin",children:c})]});break;case void 0:n=Object(O.jsx)("div",{className:"modal",children:Object(O.jsx)(v,{textColor:k.contrast})});break;default:console.log("there was a problem loading your credentials")}else g=Object(O.jsx)("div",{className:"modal abs",children:Object(O.jsx)(v,{input:"CONNECTING TO DATABASE",textColor:k.contrast})})}return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsxs)("header",{children:[Object(O.jsxs)("nav",{children:[Object(O.jsx)("div",{className:"margin-left"}),Object(O.jsx)("div",{className:"main-nav",children:Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{onClick:function(){return s.changeRoute("catalog")},children:"Get a Quote"}),Object(O.jsx)("li",{children:"Call an Agent"}),Object(O.jsx)("li",{onClick:this.showColorsModal,children:"Our Website"}),Object(O.jsx)("li",{children:"News"})]})}),Object(O.jsx)("div",{className:"margin-right"})]}),e]}),g]})}}]),a}(c.a.Component),Q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,156)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};r.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(B,{})}),document.getElementById("root")),Q()},64:function(e,t,a){},66:function(e,t,a){}},[[154,1,2]]]);
//# sourceMappingURL=main.06d7b4b2.chunk.js.map