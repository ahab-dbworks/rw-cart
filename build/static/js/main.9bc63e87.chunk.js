(this["webpackJsonprw-cart"]=this["webpackJsonprw-cart"]||[]).push([[0],{153:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(16),r=a.n(s),i=(a(63),a(57)),o=a(58),l=a(6),d=a.n(l),u=a(8),h=a(9),j=a(10),b=a(12),p=a(11),m=(a(65),a(14)),O=a.n(m),v=a(0),x=function(e){var t=e.input?e.input:"LOADING";return console.log("loader details:",e,t),Object(v.jsxs)("div",{className:"loader-blip",children:[Object(v.jsx)("div",{className:"loader-text",children:t}),Object(v.jsxs)("ul",{className:"blips",children:[Object(v.jsx)("li",{className:"blip"}),Object(v.jsx)("li",{className:"blip"}),Object(v.jsx)("li",{className:"blip"}),Object(v.jsx)("li",{className:"blip"}),Object(v.jsx)("li",{className:"blip"}),Object(v.jsx)("li",{className:"blip"}),Object(v.jsx)("li",{className:"blip"})]})]})},y=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).loadAccessories=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.loader(n.props.rowContent[2]);case 2:n.content=e.sent,n.subRowCount=n.content.Rows.length;case 4:case"end":return e.stop()}}),e)}))),n.toggleExpanded=Object(u.a)(d.a.mark((function e(){var t,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,a=t.address,c=t.updateSubRows,n.isExpanded=!n.isExpanded,n.content){e.next=5;break}return e.next=5,n.loadAccessories();case 5:n.props.rootParent?(n.rowIndex[a]=n.subRowCount,n.forceUpdate()):c(a,n.isExpanded?n.subRowCount:0);case 6:case"end":return e.stop()}}),e)}))),n.updateSubRows=function(e,t){n.rowIndex[e]=t,n.forceUpdate()},n.state={},n.isExpanded=!1,n.subRowCount=1,n.content=void 0,n.rowIndex={},n}return Object(j.a)(a,[{key:"render",value:function(){var e,t=this.props,a=t.address,n=t.header,c=t.cart,s=t.loader,r=t.addItemToCart,i=void 0;this.props.rootParent?(i=this.updateSubRows,e=this.rowIndex):(i=this.props.updateSubRows,e=this.props.rowIndex);var o=this.isExpanded?"expand_less":"expand_more",l=Object(v.jsx)("div",{className:"row-expander btn",onClick:this.toggleExpanded,children:Object(v.jsx)("i",{children:o})}),d=void 0,u=1;return this.isExpanded?(Object.keys(e).forEach((function(t){0===t.indexOf(a)&&(u+=e[t])})),d=this.content?this.content.Rows.map((function(t,n){return Object(v.jsx)("div",{className:"catalog-item-container ".concat(t[19]),children:Object(v.jsx)(g,{address:a,rowContent:t,cart:c,loader:s,addItemToCart:r,updateSubRows:i,rootParent:!1,rowIndex:e})},n)})):Object(v.jsx)(x,{})):u=1,Object(v.jsxs)("div",{className:"collapsible-container",style:{height:52*u+(this.isExpanded?2*u:0)+"px"},children:[Object(v.jsxs)("div",{className:"container-header",children:[l,n]}),Object(v.jsx)("div",{className:"container-accessories",children:d})]})}}]),a}(c.a.Component),f=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).changeMode=function(e){switch(e){case"read":n.props.updateValue(n.state.stateValue),n.setState({mode:"read"});break;case"write":n.setState({mode:"write",stateValue:n.props.value})}},n.changeValue=function(e){n.setState({stateValue:e.target.value})},n.enterValue=function(e){"Enter"===e.key&&n.changeMode("read")},n.handleLoad=function(e){e.target.select()},n.state={mode:"read",stateValue:n.props.value},n}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.mode,n=t.stateValue,c=this.props.value,s=void 0;switch(a){case"read":s=Object(v.jsx)("div",{className:"super-input",children:c});break;case"write":s=Object(v.jsx)("input",{className:"super-input",type:"number",onFocus:this.handleLoad,onBlur:function(){return e.changeMode("read")},onChange:this.changeValue,onKeyPress:this.enterValue,value:n,autoFocus:!0})}return Object(v.jsx)("div",{className:"super-input-container",onClick:function(){return e.changeMode("write")},children:s})}}]),a}(c.a.Component),g=function(e){var t=e.address+"~"+e.rowContent[7]+(null!=e.rowContent[3]?"x"+e.rowContent[0]:""),a=e.rowContent,n=e.cart,c=e.loader,s=e.addItemToCart,r=e.updateSubRows,i=e.rowIndex,o=e.rootParent,l=function(a){var n=e.cart,c={address:t,iCode:a[5],id:a[0],type:a[19].toLowerCase(),description:a[7],imgsrc:a[46],rate:a[35],avail:a[22],optional:a[51],parent:a[3]},s=0,r=!1,i=!1;c.avail>0&&(n[c.address]?(i=(s=n[c.address].quantity.actual)>0,c.avail>s&&(r=!0)):r=!0);var o=void 0;o=c.imgsrc?Object(v.jsx)("div",{className:"item-image-thumbnail",children:Object(v.jsx)("img",{src:c.imgsrc})}):Object(v.jsxs)("div",{className:"item-image-thumbnail",children:[Object(v.jsx)("i",{children:"cancel_presentation"}),Object(v.jsx)("br",{}),Object(v.jsx)("span",{children:"No Image"})]});var l="";return c.parent&&(l=c.optional?"optional":"required"),Object(v.jsxs)("ul",{className:"catalog-item-elements",children:[Object(v.jsx)("li",{className:"item-segment item-quantity ".concat(l),children:Object(v.jsxs)("div",{className:"quantity-control",children:[Object(v.jsx)("div",{className:"btn".concat(i?"":" inactive"),onClick:i?function(){return e.addItemToCart(a,c.address,s-1)}:null,children:Object(v.jsx)("i",{children:"remove"})}),Object(v.jsx)("div",{className:"quantity-count",children:Object(v.jsx)(f,{value:s,updateValue:function(t){return e.addItemToCart(a,c.address,t)}})}),Object(v.jsx)("div",{className:"btn".concat(r?"":" inactive"),onClick:r?function(){return e.addItemToCart(a,c.address,s+1)}:null,children:Object(v.jsx)("i",{children:"add"})})]})}),Object(v.jsx)("li",{className:"item-segment item-image",children:o}),Object(v.jsx)("li",{className:"item-segment item-description",children:Object(v.jsx)("div",{className:"row-description",children:c.description})}),Object(v.jsxs)("li",{className:"item-segment item-rate numeric",children:[Object(v.jsx)("div",{className:"grid-label",children:"Rate:"}),Object(v.jsxs)("div",{children:["$ ",c.rate.toFixed(2)]})]})]})}(a),d=null,u=void 0;switch(a[19]){case"ITEM":case"ACCESSORY":d=Object(v.jsx)("div",{className:"row-expander"}),u=l;break;default:u=Object(v.jsx)(y,{address:t,header:l,rowContent:a,cart:n,loader:c,addItemToCart:s,updateSubRows:r,rowIndex:i,rootParent:o})}return Object(v.jsxs)("div",{className:"catalog-item",children:[d,u]})},N=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).checkMe=function(e){n.props.action(e)},n}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.options,c=t.selected;if(n.length>0){var s=void 0;return Object(v.jsxs)("div",{className:"radio-set",children:[Object(v.jsx)("div",{className:"super-label",children:a}),Object(v.jsx)("ul",{className:"radio-list",children:n.map((function(t,a){var n=c===t.name?"checked":"";return s=t.icon?Object(v.jsx)("i",{className:"",children:t.icon}):t.label,Object(v.jsx)("li",{onClick:function(){return e.checkMe(t)},className:"radio-option ".concat(n),children:s},a)}))})]})}return Object(v.jsx)("div",{className:"radio-set"})}}]),a}(c.a.Component),w=[{name:"grid",value:"G",label:"Grid",icon:"calendar_view_month"},{name:"table",value:"T",label:"Table",icon:"reorder"}],C=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).loadInventory=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.mode="loading",e.next=3,n.props.loader();case 3:(t=e.sent)&&(n.mode="display",n.setState({content:t}));case 5:case"end":return e.stop()}}),e)}))),n.search=function(e){n.setState({searchField:e.target.value})},n.setDisplayMode=function(e){n.setState({displayMode:e})},n.state={displayMode:w[1],content:void 0,searchField:""},n.mode="waiting",n}return Object(j.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props;t.activity,t.warehouse,t.inventoryType,t.category;O.a.isEqual(this.props,e)||(console.log("a catalog prop has changed"),this.loadInventory())}},{key:"componentDidMount",value:function(){console.log(this.props);var e=this.props,t=e.warehouse,a=e.inventoryType,n=e.category;t&&a&&n&&this.loadInventory()}},{key:"render",value:function(){var e=this.state,t=e.displayMode,a=e.content,n=e.searchField,c=this.props,s=c.cart,r=c.getAccessories,i=c.addItemToCart,o=c.activity,l=c.warehouse,d=c.inventoryType,u=c.category,h=void 0,j=void 0,b=void 0;switch(null!==u&&null!==d&&null!==l&&null!==o||(this.mode="waiting"),this.mode){case"waiting":j=Object(v.jsx)("div",{className:"modal abs barlow",children:"AWAITING PARAMETERS"});break;case"loading":j=Object(v.jsx)("div",{className:"modal abs",children:Object(v.jsx)(x,{})});break;case"display":b="".concat(o.name,"~").concat(l.name,"~").concat(d.name,"~").concat(u.name);var p=a.Rows.filter((function(e){return e[7].toLowerCase().includes(n.toLowerCase())})),m="";switch(m=p.length>0?null:Object(v.jsx)("div",{className:"modal abs",children:"No inventory items match this criteria"}),h=Object(v.jsxs)("div",{className:"search-field",children:[Object(v.jsx)("input",{type:"text",onChange:this.search,value:n,placeholder:"Search..."}),Object(v.jsx)(N,{name:"Display Mode",options:w,selected:t.name,action:this.setDisplayMode})]}),t.name){case"table":j=Object(v.jsxs)("div",{className:"dbw-table",children:[Object(v.jsx)("div",{className:"dbw-thead",children:Object(v.jsxs)("ul",{className:"row-header",children:[Object(v.jsx)("li",{className:"row-expander"}),Object(v.jsx)("li",{className:"item-segment item-quantity",children:"Quantity"}),Object(v.jsx)("li",{className:"item-segment item-image",children:"Image"}),Object(v.jsx)("li",{className:"item-segment item-description",children:"Item"}),Object(v.jsx)("li",{className:"item-segment item-rate",children:"Rate"})]})}),Object(v.jsxs)("div",{className:"dbw-tbody",children:[p.map((function(e,t){return Object(v.jsx)("div",{className:"catalog-item-container ".concat(e[19]),children:Object(v.jsx)(g,{address:b,rowContent:e,cart:s,loader:r,addItemToCart:i,rootParent:!0})},t)})),m]})]});break;case"grid":j=Object(v.jsxs)("div",{className:"dbw-grid",children:[p.map((function(e,t){return Object(v.jsx)("div",{className:"catalog-item-container ".concat(e[19]),children:Object(v.jsx)(g,{address:b,rowContent:e,cart:s,loader:r,addItemToCart:i,rootParent:!0})},t)})),m]})}}return Object(v.jsxs)("section",{className:"catalog",children:[h,j]})}}]),a}(c.a.Component),k=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).toggle=function(){var e=n.state.collapsedBody;n.setState({collapsedBody:!e})},n.state={collapsedBody:!1},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.collapseBody;e&&this.setState({collapsedBody:e})}},{key:"render",value:function(){var e=this,t=this.state.collapsedBody,a=this.props,n=a.isOnlyChild,c=a.branchTier,s=a.label,r=a.parentItemHeader,i=a.items,o={},l=0;i.forEach((function(e){(5===e.branchChain.length||e.isOption)&&(l+=e.quantity.actual*e.rate),o[e.branchChain[c]]||(o[e.branchChain[c]]=[]),o[e.branchChain[c]].push(e)}));var d=void 0;return d=c<5?Object(v.jsxs)("ul",{className:"branch-header",children:[Object(v.jsx)("li",{className:"",children:Object(v.jsx)("i",{className:"collapser-button",onClick:this.toggle,children:t?"expand_less":"expand_more"})}),Object(v.jsx)("li",{className:"cart-col name",children:s}),Object(v.jsx)("li",{className:"cart-col rate numeric",children:l.toFixed(2)})]}):Object(v.jsxs)("ul",{className:"kit-complete-header ".concat(r.parent?"child":"adult"),children:[Object(v.jsx)("li",{className:"",children:Object(v.jsx)("i",{className:"collapser-button",onClick:this.toggle,children:t?"expand_less":"expand_more"})}),Object(v.jsx)("li",{className:"cart-col quantity numeric",children:Object(v.jsx)("div",{className:"super-input-container",children:Object(v.jsx)(f,{value:r.quantity.actual,updateValue:function(t){return e.props.updateCart(r.details,r.branchChain.join("~"),t)}})})}),Object(v.jsx)("li",{className:"cart-col name",children:r.name}),Object(v.jsx)("li",{className:"cart-col rate numeric",children:r.rate.toFixed(2)})]}),Object(v.jsxs)("div",{className:"collapser-container".concat(r?" kit-complete":"").concat(c<5?" branch-container":"").concat(n?" hidden":" show"),children:[Object(v.jsx)("div",{className:"collapser-header",children:d}),Object(v.jsx)("ul",{className:"content-container ".concat(t?"hidden":"show"),children:Object.keys(o).map((function(t){return Object(v.jsx)(T,{branchTier:c+1,label:t,content:o[t],isOnlyChild:1===Object.keys(o).length&&c<4,updateCart:e.props.updateCart})}))})]},s)}}]),a}(c.a.Component),T=function(e){var t=e.branchTier,a=e.label,n=e.content,c=e.isOnlyChild,s=void 0;if(n.length>1||t<5){var r=[];return n.forEach((function(e){e.branchChain.length>t?r.push(e):s=e})),Object(v.jsx)("div",{className:"cart-item".concat(t<5?" branch":"").concat(c?" hide":" show"),children:Object(v.jsx)(k,{branchTier:t,label:a,parentItemHeader:s,items:r,isOnlyChild:c,updateCart:e.updateCart})},a)}var i=n[0].quantity.actual;return(!n[0].parent||n[0].parent&&n[0].isOption)&&(i=Object(v.jsx)(f,{value:n[0].quantity.actual,updateValue:function(t){return e.updateCart(n[0].details,n[0].branchChain.join("~"),t)}})),Object(v.jsx)("div",{className:"cart-item",children:Object(v.jsxs)("ul",{className:"".concat(n[0].isOption?"option":""," ").concat(n[0].parent?"child":"adult"),children:[Object(v.jsx)("li",{className:"cart-col",children:"\u2022"}),Object(v.jsx)("li",{className:"cart-col quantity numeric",children:Object(v.jsx)("div",{className:"super-input-container",children:i})}),Object(v.jsx)("li",{className:"cart-col name",children:n[0].name}),Object(v.jsx)("li",{className:"cart-col rate numeric",children:n[0].rate.toFixed(2)})]})},a)},S=function(e){var t=e.cartList,a=void 0,n=0,c={};return Object.keys(t).forEach((function(e){var a=t[e];(5===a.branchChain.length||a.isOption)&&(n+=a.rate*a.quantity.actual),c[a.branchChain[0]]||(c[a.branchChain[0]]=[]),c[a.branchChain[0]].push(a)})),a=O.a.isEmpty(t)?Object(v.jsx)("div",{className:"modal",style:{flex:1},children:"Cart Empty"}):Object(v.jsxs)("div",{className:"dbw-table",children:[Object(v.jsx)("div",{className:"dbw-thead",children:Object(v.jsxs)("ul",{className:"dbw-header",children:[Object(v.jsx)("li",{className:"cart-col spacer"}),Object(v.jsx)("li",{className:"cart-col quantity numeric",children:"Q"}),Object(v.jsx)("li",{className:"cart-col name",children:"Item"}),Object(v.jsx)("li",{className:"cart-col rate numeric",children:"Rate"})]})}),Object(v.jsx)("div",{className:"dbw-tbody",children:Object.keys(c).map((function(t){return Object(v.jsx)(T,{branchTier:1,label:t,content:c[t],isOnlyChild:1===Object.keys(c).length,updateCart:e.updateCart})}))})]}),Object(v.jsxs)("div",{className:"cart-container",children:[Object(v.jsx)("div",{className:"cart-contents param-set",children:a}),Object(v.jsxs)("div",{className:"cart-summary param-set barlow",children:[Object(v.jsxs)("div",{className:"cart-summary-row",children:[Object(v.jsx)("span",{children:"Daily Subtotal:"}),"$",n.toFixed(2)]}),Object(v.jsxs)("div",{className:"cart-summary-row",children:[Object(v.jsx)("span",{children:"Quote Duration"}),e.quotePeriod," ",e.quotePeriod>1?"Days":"Day"]}),Object(v.jsxs)("div",{className:"cart-summary-row grand",children:[Object(v.jsx)("span",{children:"Total:"}),"$",(n*e.quotePeriod).toFixed(2)]})]})]})},I=a(13),D=a(40),A=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).getOptions=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({mode:"loading"}),e.next=3,n.props.loader(n.props.filter);case 3:if(!(t=e.sent)){e.next=12;break}e.t0=Object.values(t).length,e.next=0===e.t0?8:1===e.t0?10:11;break;case 8:return n.setState({mode:"empty"}),e.abrupt("break",12);case 10:Object.values(t).forEach((function(e){return n.props.action(e)}));case 11:n.setState({mode:"display",options:t});case 12:case"end":return e.stop()}}),e)}))),n.state={mode:"waiting",options:void 0},n}return Object(j.a)(a,[{key:"componentDidUpdate",value:function(e){O.a.isEqual(this.props,e)||(this.props.reloadOn.includes(null)?this.setState({mode:"waiting",options:void 0}):this.getOptions())}},{key:"componentDidMount",value:function(){this.props.preload&&this.getOptions()}},{key:"render",value:function(){var e,t=this.state,a=t.mode,n=t.options,c=(t.resetValues,this.props),s=c.name,r=c.action,i=c.searchable,o=c.placeholder,l=c.value,d={option:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{color:t.isSelected?"white":"black"})},control:function(){return{backgroundColor:"transparent",display:"flex"}},placeholder:function(){return{color:"rgba(255,255,255,0.75)",fontStyle:"italic"}},indicatorSeparator:function(e){return Object(I.a)(Object(I.a)({},e),{},{backgroundColor:"rgba(255,255,255,0.75)"})},dropdownIndicator:function(e,t){var a=t.selectProps.isLoading;return Object(I.a)(Object(I.a)({},e),{},{color:a?"rgba(255,255,255,0.75)":"white","&:hover":{color:""},padding:"0.5em 0 0.5em 1em"})},singleValue:function(){return{color:"white"}},loadingIndicator:function(e){return Object(I.a)(Object(I.a)({},e),{},{color:"white"})},valueContainer:function(e){return Object(I.a)(Object(I.a)({},e),{},{padding:0})}},u=!0,h=null,j=s.substring(0,1).toUpperCase()+s.substring(1);switch(a){case"empty":e="No Options",u=!1;break;case"waiting":e="Awaiting Parameters...";break;case"loading":e="Loading Options...";break;case"display":e=o,u=!1,h=Object.keys(n).map((function(e){return n[e]}))}return Object(v.jsxs)("div",{className:"selector-set",children:[Object(v.jsx)("div",{className:"super-label",children:j}),Object(v.jsx)(D.a,{styles:d,className:"selector ".concat(s,"-select"),classNamePrefix:"".concat(s,"-select"),isLoading:u,options:h,onChange:r,placeholder:e,isSearchable:i,value:l})]})}}]),a}(D.a),E=a(19),R=a.n(E),P=(a(80),function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={},n}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props,t=e.startDate,a=e.endDate,n=e.setDates;switch(this.props.mode){case"combined":return Object(v.jsx)("div",{className:"date-selector",children:Object(v.jsx)(R.a,{selected:t,onChange:function(e){return n(e)},startDate:t,endDate:a,selectsRange:!0,inline:!0})});case"start":return Object(v.jsxs)("div",{className:"date-selector",children:[Object(v.jsx)("div",{className:"super-label",children:"Start"}),Object(v.jsx)(R.a,{selected:t,onChange:function(e){return n([e,a])},selectsStart:!0,startDate:t,endDate:a})]});case"end":return Object(v.jsxs)("div",{className:"date-selector",children:[Object(v.jsx)("div",{className:"super-label",children:"End"}),Object(v.jsx)(R.a,{selected:a,onChange:function(e){return n([t,e])},selectsEnd:!0,startDate:t,endDate:a,minDate:t})]})}}}]),a}(R.a)),q="https://demo.rentalworksweb.com/api/v1",M=[{name:"RENTAL",code:"R",label:"Rental"},{name:"SALES",code:"S",label:"Sales"},{name:"PARTS",code:"P",label:"Parts"}],L=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).addItemToCart=function(){var t=Object(u.a)(d.a.mark((function t(a,n,c){var s,r,i,l,h,j,b,p,m;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=e.state,r=s.cartList,i=s.activity,l=s.warehouse,h=s.inventoryType,j=s.category,b=O.a.isEmpty(r),p=function(){var t=Object(u.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAccessories(a.id);case 2:return n=t.sent,t.next=5,Promise.all(n.Rows.map(function(){var e=Object(u.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t,n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));case 5:t.sent;case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var e=Object(u.a)(d.a.mark((function e(t,a,n){var s,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n?t[52]:1,"ITEM"==(u={branchChain:n?[].concat(Object(o.a)(n.branchChain),[t[7]+"x"+t[0]]):[i.name,l.name,h.name,j.name,t[7]],quantity:{actual:t[51]?0:Math.ceil(s*c),fraction:t[51]?0:s*c,default:s},available:t[22],details:t,icode:t[5],id:t[2],index:a,name:t[7],parent:n,rate:t[35],type:t[19],isOption:t[51],isShort:!1,activity:i,warehouse:l,inventoryType:h,category:j}).type||"ACCESSORY"==u.type){e.next=5;break}return e.next=5,p(u);case 5:r[u.branchChain.join("~")]=u;case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),console.log("q is",c,"and availability is",a[22]),c=Math.min(c,a[22]),!r[n]){t.next=10;break}Object.keys(r).forEach((function(e){0===e.indexOf(n)&&(c<=0&&!r[n].isOption?delete r[e]:(r[e].isOption?r[e].isOption&&e===n&&(r[e].quantity.fraction=c):r[e].quantity.fraction=r[e].quantity.default*c,r[e].quantity.fraction<0&&(r[e].quantity.fraction=0),r[e].quantity.actual=Math.ceil(r[e].quantity.fraction)))})),t.next=13;break;case 10:if(a[51]||0==c){t.next=13;break}return t.next=13,m(a);case 13:b&&e.toggleCart("in"),console.log("cartList:",r),e.setState({cartList:r});case 16:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),e.clearCart=function(){e.setState({cartList:{}})},e.changeRoute=function(t){e.setState({route:t})},e.getCategories=Object(u.a)(d.a.mark((function t(){var a,n,c,s,r,i,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,n=a.credentials,c=a.activity,s=a.inventoryType,!e.state.inventoryType){t.next=14;break}return e.page=1,t.next=5,fetch("".concat(q,"/").concat(c.name,"category/browse"),{method:"POST",headers:{Authorization:"Bearer ".concat(n.access_token),"content-type":"application/json"},body:JSON.stringify({orderby:"Category",searchfieldoperators:["<>","="],searchfields:["Inactive","InventoryTypeId"],searchfieldtypes:["Text","Text"],searchfieldvalues:["T","".concat(s.id)],searchseparators:[","]})}).catch((function(e){return console.log(e)}));case 5:return r=t.sent,t.next=8,r.json();case 8:return i=t.sent,o={},i.Rows.forEach((function(e,t){o[e[2]]={id:e[2],value:e[2],name:e[3],label:e[3],index:t}})),t.abrupt("return",o);case 14:return t.abrupt("return",void 0);case 15:case"end":return t.stop()}}),t)}))),e.getCredentials=function(){fetch("".concat(q,"/jwt"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({UserName:"joshua",Password:"icardius"})}).then((function(e){return e.json()})).then((function(t){console.log("api credentials:",t),e.setState({credentials:t})})).catch((function(e,t){console.log(e,"response:",t)}))},e.getInventory=Object(u.a)(d.a.mark((function t(){var a,n,c,s,r,i,o,l,u;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,n=a.warehouse,c=a.activity,s=a.inventoryType,r=a.category,i=a.startDate,o=a.endDate,!(n&&s&&r)){t.next=12;break}return t.next=4,fetch("".concat(q,"/inventorysearch/search"),{method:"POST",headers:{Authorization:"Bearer ".concat(e.state.credentials.access_token),"content-type":"application/json"},body:JSON.stringify({OrderId:"0000KG53",SessionId:"0000KG53",CurrencyId:"0000000E",WarehouseId:n.id,AvailableFor:c.code,InventoryTypeId:s.id,CategoryId:r.id,Classifiction:"",FromDate:i,ToDate:o,HideInventoryWithZeroQuantity:!0,ShowAvailability:!0,ShowImages:!0})}).catch((function(e){return console.log("error:",e)}));case 4:return l=t.sent,t.next=7,l.json();case 7:return u=t.sent,console.log("loaded inventory:",u),t.abrupt("return",u);case 12:return t.abrupt("return",null);case 13:case"end":return t.stop()}}),t)}))),e.getAccessories=function(){var t=Object(u.a)(d.a.mark((function t(a){var n,c,s,r,i,o,l,u;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state,c=n.warehouse,n.activity,s=n.inventoryType,r=n.category,i=n.startDate,o=n.endDate,!(c&&s&&r)){t.next=12;break}return t.next=4,fetch("".concat(q,"/inventorysearch/accessories"),{method:"POST",headers:{Authorization:"Bearer ".concat(e.state.credentials.access_token),"content-type":"application/json"},body:JSON.stringify({OrderId:"0000KG53",SessionId:"0000KG53",Lineage:a,WarehouseId:c.id,FromDate:i,ToDate:o,ShowAvailability:!0,ShowImages:!0})}).catch((function(e){return console.log("error:",e)}));case 4:return l=t.sent,t.next=7,l.json();case 7:return u=t.sent,console.log("loaded accessories:",u),t.abrupt("return",u);case 12:return t.abrupt("return",null);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getInventoryTypes=function(){var t=Object(u.a)(d.a.mark((function t(a){var n,c,s,r,i,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,c=n.credentials,s=n.activity,n.warehouse,t.next=3,fetch("".concat(q,"/inventorytype/browse"),{method:"POST",headers:{Authorization:"Bearer ".concat(c.access_token),"content-type":"application/json"},body:JSON.stringify({orderby:"OrderBy",searchfieldoperators:["<>","="],searchfields:["Inactive",s.label],searchfieldtypes:["Text","Boolean"],searchfieldvalues:["T",!0]})}).catch((function(e){return console.log(e)}));case 3:return r=t.sent,t.next=6,r.json();case 6:return i=t.sent,o={},i.Rows.forEach((function(e,t){o[e[0]]={id:e[0],value:e[0],name:e[1],label:e[1],index:t}})),t.abrupt("return",o);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getWarehouses=function(){var t=Object(u.a)(d.a.mark((function t(a){var n,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(q,"/warehouse/browse"),{method:"POST",headers:{Authorization:"Bearer ".concat(e.state.credentials.access_token),"content-type":"application/json"},body:JSON.stringify({orderby:"Warehouse",searchfieldoperators:["<>"],searchfields:["Inactive"],searchfieldtypes:["Text"],searchfieldvalues:["T"]})}).catch((function(e){return console.log(e)}));case 2:return n=t.sent,t.next=5,n.json();case 5:return c=t.sent,s={},c.Rows.forEach((function(e,t){s[e[0]]={id:e[0],value:e[0],name:e[1],label:e[1],code:e[2],index:t}})),t.abrupt("return",s);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.setCategory=function(t){t?e.setState({category:t}):console.log("category not set")},e.setDates=function(t){var a=Object(i.a)(t,2),n=a[0],c=a[1],s=e.getNumberOfDays(n,c);e.setState({startDate:n,endDate:c,quotePeriod:s})},e.setInventoryType=function(t){t?e.setState({inventoryType:t,category:null}):console.log("inventoryType not set")},e.setActivity=function(t){e.setState({activity:t,inventoryType:null})},e.setWarehouse=function(t){t?e.setState({warehouse:t}):console.log("warehouse not set")},e.submitQuote=function(){},e.checkAvailability=function(t,a,n){fetch("".concat(q,"/inventoryavailability/getinventoryavailability"),{method:"POST",headers:{Authorization:"Bearer ".concat(e.state.credentials.access_token),"content-type":"application/json"},body:{InventoryId:t,Warehouse:e.state.warehouse,FromDate:a,ToDate:n}})},e.toggleCart=function(t){var a=e.state.cartMode,n=void 0;n="string"===typeof t?t:"in"===a?"out":"in",e.setState({cartMode:n})},e.getNumberOfDays=function(e,t){var a=new Date(e),n=new Date(t).getTime()-a.getTime();return Math.round(n/864e5)+1},e.state={route:"home",credentials:null,activity:M[0],inventoryType:null,category:null,subCategory:null,warehouse:null,customer:"",email:"",cartList:{},startDate:new Date,endDate:new Date,quotePeriod:1,cartMode:"out"},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getCredentials()}},{key:"render",value:function(){var e,t,a,n,c,s=this,r=this.state,i=r.route,o=r.warehouse,l=r.activity,d=r.inventoryType,u=r.category,h=(r.subcategory,r.startDate),j=r.endDate,b=r.quotePeriod,p=r.cartList,m=r.cartMode,O=void 0;switch(i){case"home":e=Object(v.jsxs)("div",{className:"header-banner",children:[Object(v.jsx)("div",{className:"banner-content",children:Object(v.jsx)("h1",{children:"Welcome!"})}),Object(v.jsx)("div",{className:"banner-background",children:Object(v.jsx)("img",{src:"https://h7f7z2r7.stackpathcdn.com/sites/default/files/images/articles/blakcstonemain.jpg"})})]}),a=Object(v.jsx)("div",{});break;case"catalog":if(this.state.credentials)switch(this.state.credentials.statuscode){case 0:t=Object(v.jsxs)("div",{className:"column left",children:[Object(v.jsx)("div",{className:"column-header param-set",children:Object(v.jsxs)("h1",{children:[Object(v.jsx)("i",{children:"tune"}),"PARAMETERS"]})}),Object(v.jsxs)("div",{className:"param-set",children:[Object(v.jsx)(P,{startDate:h,endDate:j,mode:"start",setDates:this.setDates}),Object(v.jsx)(P,{startDate:h,endDate:j,mode:"end",setDates:this.setDates})]}),Object(v.jsx)("div",{className:"param-set",children:Object(v.jsx)(N,{name:"Activity Type",options:M,selected:l.name,action:this.setActivity})}),Object(v.jsx)("div",{className:"param-set",children:Object(v.jsx)(A,{name:"warehouse",loader:this.getWarehouses,action:this.setWarehouse,reloadOn:[l],placeholder:"Select a Warehouse",searchable:!1,preload:!0})}),Object(v.jsx)("div",{className:"param-set",children:Object(v.jsx)(A,{name:"Inventory Type",loader:this.getInventoryTypes,action:this.setInventoryType,reloadOn:[l,o],placeholder:"Select an Inventory Type",searchable:!0,value:d})}),Object(v.jsx)("div",{className:"param-set",children:Object(v.jsx)(A,{name:"category",loader:this.getCategories,action:this.setCategory,reloadOn:[l,o,d],placeholder:"Select a Category",searchable:!0,value:u})})]}),a=Object(v.jsxs)("div",{className:"column center",children:[Object(v.jsx)("div",{className:"column-header param set",children:Object(v.jsxs)("h1",{children:[Object(v.jsx)("i",{children:"menu_book"}),l.label.toUpperCase()," CATALOG"]})}),Object(v.jsx)(C,{loader:this.getInventory,getAccessories:this.getAccessories,activity:l,warehouse:o,inventoryType:d,category:u,startDate:h,endDate:j,addItemToCart:this.addItemToCart,cart:p})]}),n=Object(v.jsxs)("div",{className:"column right",children:[Object(v.jsx)("div",{className:"column-header param-set",children:Object(v.jsxs)("h1",{children:[Object(v.jsx)("i",{children:"shopping_cart"}),"CART"]})}),Object(v.jsx)(S,{cartList:p,activityList:M,quotePeriod:b,updateCart:this.addItemToCart,clearCart:this.clearCart,submitQuote:this.submitQuote}),Object(v.jsxs)("div",{className:"cart-submit",children:[Object(v.jsxs)("div",{className:"text-button dim",onClick:this.clearCart,children:[Object(v.jsx)("i",{children:"delete_forever"}),Object(v.jsx)("span",{children:"Clear Cart"})]}),Object(v.jsxs)("div",{className:"text-button",onClick:this.submitQuote,children:[Object(v.jsx)("i",{children:"send"}),Object(v.jsx)("span",{children:"Submit Quote"})]})]})]}),c=Object(v.jsx)("div",{className:"slide-panel-switch",onClick:this.toggleCart,children:"in"===m?Object(v.jsx)("i",{children:"logout"}):Object(v.jsx)("i",{children:"shopping_cart"})}),O=Object(v.jsxs)("article",{children:[Object(v.jsx)("div",{className:"body-margin"}),Object(v.jsxs)("div",{className:"body-main",children:[t,a]}),Object(v.jsxs)("div",{className:"body-margin",children:[c,Object(v.jsx)("div",{className:"slide-panel ".concat(m),children:n})]})]});break;case void 0:a=Object(v.jsx)("div",{className:"modal",children:Object(v.jsx)(x,{})});break;default:console.log("there was a problem loading your credentials")}else O=Object(v.jsx)("div",{className:"modal abs",children:Object(v.jsx)(x,{input:"CONNECTING TO DATABASE"})})}return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsxs)("header",{children:[Object(v.jsxs)("nav",{children:[Object(v.jsx)("div",{className:"margin-left"}),Object(v.jsx)("div",{className:"main-nav",children:Object(v.jsxs)("ul",{children:[Object(v.jsx)("li",{onClick:function(){return s.changeRoute("catalog")},children:"Get a Quote"}),Object(v.jsx)("li",{children:"Call an Agent"}),Object(v.jsx)("li",{children:"Our Website"}),Object(v.jsx)("li",{children:"News"})]})}),Object(v.jsx)("div",{className:"margin-right"})]}),e]}),O]})}}]),a}(c.a.Component),F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,155)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};r.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(L,{})}),document.getElementById("root")),F()},63:function(e,t,a){},65:function(e,t,a){}},[[153,1,2]]]);
//# sourceMappingURL=main.9bc63e87.chunk.js.map