(this["webpackJsonprw-cart"]=this["webpackJsonprw-cart"]||[]).push([[0],{154:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(16),r=a.n(s),i=(a(64),a(58)),o=a(59),l=a(6),d=a.n(l),u=a(12),b=a(8),h=a(9),j=a(11),p=a(10),m=(a(66),a(14)),O=a.n(m),x=a(0),v=function(e){var t=e.input?e.input:"LOADING";return console.log("loader details:",e,t),Object(x.jsxs)("div",{className:"loader-blip",style:{color:e.textColor},children:[Object(x.jsx)("div",{className:"loader-text",children:t}),Object(x.jsxs)("ul",{className:"blips",children:[Object(x.jsx)("li",{className:"blip"}),Object(x.jsx)("li",{className:"blip"}),Object(x.jsx)("li",{className:"blip"}),Object(x.jsx)("li",{className:"blip"}),Object(x.jsx)("li",{className:"blip"}),Object(x.jsx)("li",{className:"blip"}),Object(x.jsx)("li",{className:"blip"})]})]})},y=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).loadAccessories=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.loader(n.props.rowContent[2]);case 2:n.content=e.sent,n.subRowCount=n.content.Rows.length;case 4:case"end":return e.stop()}}),e)}))),n.toggleExpanded=Object(u.a)(d.a.mark((function e(){var t,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,a=t.address,c=t.updateSubRows,n.isExpanded=!n.isExpanded,n.content){e.next=5;break}return e.next=5,n.loadAccessories();case 5:n.props.rootParent?(n.rowIndex[a]=n.subRowCount,n.forceUpdate()):c(a,n.isExpanded?n.subRowCount:0);case 6:case"end":return e.stop()}}),e)}))),n.updateSubRows=function(e,t){n.rowIndex[e]=t,n.forceUpdate()},n.state={},n.isExpanded=!1,n.subRowCount=1,n.content=void 0,n.rowIndex={},n}return Object(h.a)(a,[{key:"render",value:function(){var e,t=this.props,a=t.address,n=t.header,c=t.cart,s=t.loader,r=t.addItemToCart,i=(t.backgroundContrast,void 0);this.props.rootParent?(i=this.updateSubRows,e=this.rowIndex):(i=this.props.updateSubRows,e=this.props.rowIndex);var o=this.isExpanded?"expand_less":"expand_more",l=Object(x.jsx)("div",{className:"row-expander btn",onClick:this.toggleExpanded,children:Object(x.jsx)("i",{children:o})}),d=void 0,u=1;return this.isExpanded?(Object.keys(e).forEach((function(t){0===t.indexOf(a)&&(u+=e[t])})),d=this.content?this.content.Rows.map((function(t,n){return Object(x.jsx)("div",{className:"catalog-item-container ".concat(t[19]),children:Object(x.jsx)(g,{address:a,rowContent:t,cart:c,loader:s,addItemToCart:r,updateSubRows:i,rootParent:!1,rowIndex:e})},n)})):Object(x.jsx)(v,{})):u=1,Object(x.jsxs)("div",{className:"collapsible-container",style:{height:52*u+(this.isExpanded?2*u:0)+"px"},children:[Object(x.jsxs)("div",{className:"container-header",children:[l,n]}),Object(x.jsx)("div",{className:"container-accessories",children:d})]})}}]),a}(c.a.Component),f=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).changeMode=function(e){switch(e){case"read":n.props.updateValue(n.state.stateValue),n.setState({mode:"read"});break;case"write":n.setState({mode:"write",stateValue:n.props.value})}},n.changeValue=function(e){n.setState({stateValue:e.target.value})},n.enterValue=function(e){"Enter"===e.key&&n.changeMode("read")},n.handleLoad=function(e){e.target.select()},n.state={mode:"read",stateValue:n.props.value},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.mode,n=t.stateValue,c=this.props.value,s=void 0;switch(a){case"read":s=Object(x.jsx)("div",{className:"super-input",children:c});break;case"write":s=Object(x.jsx)("input",{className:"super-input",type:"number",onFocus:this.handleLoad,onBlur:function(){return e.changeMode("read")},onChange:this.changeValue,onKeyPress:this.enterValue,value:n,autoFocus:!0})}return Object(x.jsx)("div",{className:"super-input-container",onClick:function(){return e.changeMode("write")},children:s})}}]),a}(c.a.Component),g=function(e){var t=e.address+"~"+e.rowContent[7]+(null!=e.rowContent[3]?"x"+e.rowContent[0]:""),a=e.rowContent,n=e.cart,c=e.loader,s=e.addItemToCart,r=e.updateSubRows,i=e.rowIndex,o=e.rootParent,l=(e.backgroundContrast,function(a){var n=e.cart,c={address:t,iCode:a[5],id:a[0],type:a[19].toLowerCase(),description:a[7],imgsrc:a[46],rate:a[35],avail:a[22],optional:a[51],parent:a[3]},s=0,r=!1,i=!1;c.avail>0&&(n[c.address]?(i=(s=n[c.address].quantity.actual)>0,c.avail>s&&(r=!0)):r=!0);var o=void 0;o=c.imgsrc?Object(x.jsx)("div",{className:"item-image-thumbnail",children:Object(x.jsx)("img",{src:c.imgsrc})}):Object(x.jsxs)("div",{className:"item-image-thumbnail",children:[Object(x.jsx)("i",{children:"cancel_presentation"}),Object(x.jsx)("br",{}),Object(x.jsx)("span",{children:"No Image"})]});var l="";return c.parent&&(l=c.optional?"optional":"required"),Object(x.jsxs)("ul",{className:"catalog-item-elements",children:[Object(x.jsx)("li",{className:"item-segment item-quantity ".concat(l),children:Object(x.jsxs)("div",{className:"quantity-control",children:[Object(x.jsx)("div",{className:"btn".concat(i?"":" inactive"),onClick:i?function(){return e.addItemToCart(a,c.address,s-1)}:null,children:Object(x.jsx)("i",{children:"remove"})}),Object(x.jsx)("div",{className:"quantity-count",children:Object(x.jsx)(f,{value:s,updateValue:function(t){return e.addItemToCart(a,c.address,t)}})}),Object(x.jsx)("div",{className:"btn".concat(r?"":" inactive"),onClick:r?function(){return e.addItemToCart(a,c.address,s+1)}:null,children:Object(x.jsx)("i",{children:"add"})})]})}),Object(x.jsx)("li",{className:"item-segment item-image",children:o}),Object(x.jsx)("li",{className:"item-segment item-description",children:Object(x.jsx)("div",{className:"row-description",children:c.description})}),Object(x.jsxs)("li",{className:"item-segment item-rate numeric",children:[Object(x.jsx)("div",{className:"grid-label",children:"Rate:"}),Object(x.jsxs)("div",{children:["$ ",c.rate.toFixed(2)]})]})]})}(a)),d=null,u=void 0;switch(a[19]){case"ITEM":case"ACCESSORY":d=Object(x.jsx)("div",{className:"row-expander"}),u=l;break;default:u=Object(x.jsx)(y,{address:t,header:l,rowContent:a,cart:n,loader:c,addItemToCart:s,updateSubRows:r,rowIndex:i,rootParent:o})}return Object(x.jsxs)("div",{className:"catalog-item",children:[d,u]})},N=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).checkMe=function(e){n.props.action(e)},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.options,c=t.selected;if(n.length>0){var s=void 0;return Object(x.jsxs)("div",{className:"radio-set",children:[Object(x.jsx)("div",{className:"super-label",children:a}),Object(x.jsx)("ul",{className:"radio-list",children:n.map((function(t,a){var n=c===t.name?"checked":"";return s=t.icon?Object(x.jsx)("i",{className:"",children:t.icon}):t.label,Object(x.jsx)("li",{onClick:function(){return e.checkMe(t)},className:"radio-option ".concat(n),children:s},a)}))})]})}return Object(x.jsx)("div",{className:"radio-set"})}}]),a}(c.a.Component),C=[{name:"grid",value:"G",label:"Grid",icon:"calendar_view_month"},{name:"table",value:"T",label:"Table",icon:"reorder"}],w=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).loadInventory=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.mode="loading",e.next=3,n.props.loader();case 3:(t=e.sent)&&(n.mode="display",n.setState({content:t}));case 5:case"end":return e.stop()}}),e)}))),n.search=function(e){n.setState({searchField:e.target.value})},n.setDisplayMode=function(e){n.setState({displayMode:e})},n.state={displayMode:C[1],content:void 0,searchField:""},n.mode="waiting",n}return Object(h.a)(a,[{key:"componentDidUpdate",value:function(e){O.a.isEqual(this.props,e)||(console.log("a catalog prop has changed"),this.loadInventory())}},{key:"componentDidMount",value:function(){console.log(this.props);var e=this.props,t=e.warehouse,a=e.inventoryType,n=e.category;t&&a&&n&&this.loadInventory()}},{key:"render",value:function(){var e=this.state,t=e.displayMode,a=e.content,n=e.searchField,c=this.props,s=c.cart,r=c.getAccessories,i=c.addItemToCart,o=c.activity,l=c.warehouse,d=c.inventoryType,u=c.category,b=(c.backgroundContrast,void 0),h=void 0,j=void 0;switch(null!==u&&null!==d&&null!==l&&null!==o||(this.mode="waiting"),this.mode){case"waiting":h=Object(x.jsx)("div",{className:"modal abs barlow",children:"AWAITING PARAMETERS"});break;case"loading":h=Object(x.jsx)("div",{className:"modal abs",children:Object(x.jsx)(v,{})});break;case"display":j="".concat(o.name,"~").concat(l.name,"~").concat(d.name,"~").concat(u.name);var p=a.Rows.filter((function(e){return e[7].toLowerCase().includes(n.toLowerCase())})),m="";switch(m=p.length>0?null:Object(x.jsx)("div",{className:"modal abs",children:"No inventory items match this criteria"}),b=Object(x.jsxs)("div",{className:"search-field",children:[Object(x.jsx)("input",{type:"text",onChange:this.search,value:n,placeholder:"Search..."}),Object(x.jsx)(N,{name:"Display Mode",options:C,selected:t.name,action:this.setDisplayMode})]}),t.name){case"table":h=Object(x.jsxs)("div",{className:"dbw-table",children:[Object(x.jsx)("div",{className:"dbw-thead",children:Object(x.jsxs)("ul",{className:"row-header",children:[Object(x.jsx)("li",{className:"row-expander"}),Object(x.jsx)("li",{className:"item-segment item-quantity",children:"Quantity"}),Object(x.jsx)("li",{className:"item-segment item-image",children:"Image"}),Object(x.jsx)("li",{className:"item-segment item-description",children:"Item"}),Object(x.jsx)("li",{className:"item-segment item-rate",children:"Rate"})]})}),Object(x.jsxs)("div",{className:"dbw-tbody",children:[p.map((function(e,t){return Object(x.jsx)("div",{className:"catalog-item-container ".concat(e[19]),children:Object(x.jsx)(g,{address:j,rowContent:e,cart:s,loader:r,addItemToCart:i,rootParent:!0})},t)})),m]})]});break;case"grid":h=Object(x.jsxs)("div",{className:"dbw-grid",children:[p.map((function(e,t){return Object(x.jsx)("div",{className:"catalog-item-container ".concat(e[19]),children:Object(x.jsx)(g,{address:j,rowContent:e,cart:s,loader:r,addItemToCart:i,rootParent:!0})},t)})),m]})}}return Object(x.jsxs)("section",{className:"catalog",children:[b,h]})}}]),a}(c.a.Component),k=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).toggle=function(){var e=n.state.collapsedBody;n.setState({collapsedBody:!e})},n.state={collapsedBody:!1},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.collapseBody;e&&this.setState({collapsedBody:e})}},{key:"render",value:function(){var e=this,t=this.state.collapsedBody,a=this.props,n=a.isOnlyChild,c=a.branchTier,s=a.label,r=a.parentItemHeader,i=a.items,o={},l=0;i.forEach((function(e){(5===e.branchChain.length||e.isOption)&&(l+=e.quantity.actual*e.rate),o[e.branchChain[c]]||(o[e.branchChain[c]]=[]),o[e.branchChain[c]].push(e)}));var d=void 0;return d=c<5?Object(x.jsxs)("ul",{className:"branch-header",children:[Object(x.jsx)("li",{className:"",children:Object(x.jsx)("i",{className:"collapser-button",onClick:this.toggle,children:t?"expand_more":"expand_less"})}),Object(x.jsx)("li",{className:"cart-col name",children:s}),Object(x.jsx)("li",{className:"cart-col rate numeric",children:l.toFixed(2)})]}):Object(x.jsxs)("ul",{className:"kit-complete-header ".concat(r.parent?"child":"adult"),children:[Object(x.jsx)("li",{className:"",children:Object(x.jsx)("i",{className:"collapser-button",onClick:this.toggle,children:t?"expand_more":"expand_less"})}),Object(x.jsx)("li",{className:"cart-col quantity numeric",children:Object(x.jsx)("div",{className:"super-input-container",children:Object(x.jsx)(f,{value:r.quantity.actual,updateValue:function(t){return e.props.updateCart(r.details,r.branchChain.join("~"),t)}})})}),Object(x.jsx)("li",{className:"cart-col name",children:r.name}),Object(x.jsx)("li",{className:"cart-col rate numeric",children:r.rate.toFixed(2)})]}),Object(x.jsxs)("div",{className:"collapser-container".concat(r?" kit-complete":"").concat(c<5?" branch-container":"").concat(n?" hidden":" show"),children:[Object(x.jsx)("div",{className:"collapser-header",children:d}),Object(x.jsx)("ul",{className:"content-container ".concat(t?"hidden":"show"),children:Object.keys(o).map((function(t){return Object(x.jsx)(S,{branchTier:c+1,label:t,content:o[t],isOnlyChild:1===Object.keys(o).length&&c<4,updateCart:e.props.updateCart})}))})]},s)}}]),a}(c.a.Component),S=function(e){var t=e.branchTier,a=e.label,n=e.content,c=e.isOnlyChild,s=void 0;if(n.length>1||t<5){var r=[];return n.forEach((function(e){e.branchChain.length>t?r.push(e):s=e})),Object(x.jsx)("div",{className:"cart-item".concat(t<5?" branch":"").concat(c?" hide":" show"),children:Object(x.jsx)(k,{branchTier:t,label:a,parentItemHeader:s,items:r,isOnlyChild:c,updateCart:e.updateCart})},a)}var i=n[0].quantity.actual;return(!n[0].parent||n[0].parent&&n[0].isOption)&&(i=Object(x.jsx)(f,{value:n[0].quantity.actual,updateValue:function(t){return e.updateCart(n[0].details,n[0].branchChain.join("~"),t)}})),Object(x.jsx)("div",{className:"cart-item",children:Object(x.jsxs)("ul",{className:"".concat(n[0].isOption?"option":""," ").concat(n[0].parent?"child":"adult"),children:[Object(x.jsx)("li",{className:"cart-col",children:"\u2022"}),Object(x.jsx)("li",{className:"cart-col quantity numeric",children:Object(x.jsx)("div",{className:"super-input-container",children:i})}),Object(x.jsx)("li",{className:"cart-col name",children:n[0].name}),Object(x.jsx)("li",{className:"cart-col rate numeric",children:n[0].rate.toFixed(2)})]})},a)},T=function(e){var t=e.cartList,a=void 0,n=0,c={};Object.keys(t).forEach((function(e){var a=t[e];(5===a.branchChain.length||a.isOption)&&(n+=a.rate*a.quantity.actual),c[a.branchChain[0]]||(c[a.branchChain[0]]=[]),c[a.branchChain[0]].push(a)}));var s=n*e.quotePeriod;a=O.a.isEmpty(t)?Object(x.jsx)("div",{className:"modal barlow",style:{flex:1},children:"Cart Empty"}):Object(x.jsxs)("div",{className:"dbw-table",children:[Object(x.jsx)("div",{className:"dbw-thead",children:Object(x.jsxs)("ul",{className:"dbw-header",children:[Object(x.jsx)("li",{className:"cart-col spacer"}),Object(x.jsx)("li",{className:"cart-col quantity numeric",children:"Q"}),Object(x.jsx)("li",{className:"cart-col name",children:"Item"}),Object(x.jsx)("li",{className:"cart-col rate numeric",children:"Rate"})]})}),Object(x.jsx)("div",{className:"dbw-tbody",children:Object.keys(c).map((function(t){return Object(x.jsx)(S,{branchTier:1,label:t,content:c[t],isOnlyChild:1===Object.keys(c).length,updateCart:e.updateCart})}))})]});var r=s>0?s.toFixed(2):"",i=Object.keys(t).length>0?Object(x.jsxs)("div",{className:"text-button",onClick:e.submitQuote,children:[Object(x.jsx)("i",{children:"send"}),Object(x.jsx)("span",{children:"Submit Quote"})]}):Object(x.jsxs)("div",{className:"text-button disabled",children:[Object(x.jsx)("i",{children:"send"}),Object(x.jsx)("span",{children:"Submit Quote"})]});return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"slide-panel-switch barlow",onClick:e.toggleCart,children:"in"===e.cartMode?Object(x.jsx)("i",{children:"logout"}):Object(x.jsxs)("div",{style:{display:"flex"},children:[Object(x.jsx)("i",{children:"shopping_cart"}),r]})}),Object(x.jsxs)("div",{className:"cart slide-panel ".concat(e.cartMode),children:[Object(x.jsx)("div",{className:"column-header param-set",children:Object(x.jsxs)("h1",{children:[Object(x.jsx)("i",{children:"shopping_cart"}),"CART"]})}),Object(x.jsx)("div",{className:"cart-contents param-set",children:a}),Object(x.jsxs)("div",{className:"cart-summary param-set barlow",children:[Object(x.jsxs)("div",{className:"cart-summary-row",children:[Object(x.jsx)("span",{children:"Daily Subtotal:"}),"$",n.toFixed(2)]}),Object(x.jsxs)("div",{className:"cart-summary-row",children:[Object(x.jsx)("span",{children:"Quote Duration"}),e.quotePeriod," ",e.quotePeriod>1?"Days":"Day"]}),Object(x.jsxs)("div",{className:"cart-summary-row grand",children:[Object(x.jsx)("span",{children:"Total:"}),"$",(n*e.quotePeriod).toFixed(2)]})]}),Object(x.jsxs)("div",{className:"panel-buttons",children:[Object(x.jsxs)("div",{className:"text-button secondary dim",onClick:e.clearCart,children:[Object(x.jsx)("i",{children:"delete_forever"}),Object(x.jsx)("span",{children:"Clear Cart"})]}),i]})]})]})},I=a(13),D=a(41),M=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).getOptions=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({mode:"loading"}),e.next=3,n.props.loader(n.props.filter);case 3:if(!(t=e.sent)){e.next=12;break}e.t0=Object.values(t).length,e.next=0===e.t0?8:1===e.t0?10:11;break;case 8:return n.setState({mode:"empty"}),e.abrupt("break",12);case 10:Object.values(t).forEach((function(e){return n.props.action(e)}));case 11:n.setState({mode:"display",options:t});case 12:case"end":return e.stop()}}),e)}))),n.state={mode:"waiting",options:void 0},n}return Object(h.a)(a,[{key:"componentDidUpdate",value:function(e){O.a.isEqual(this.props,e)||(this.props.reloadOn.includes(null)?this.setState({mode:"waiting",options:void 0}):this.getOptions())}},{key:"componentDidMount",value:function(){this.props.preload&&this.getOptions()}},{key:"render",value:function(){var e,t=this.state,a=t.mode,n=t.options,c=(t.resetValues,this.props),s=c.name,r=c.action,i=c.searchable,o=c.placeholder,l=c.value,d=c.textColor,u={option:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{color:t.isSelected?"white":"black"})},control:function(){return{backgroundColor:"transparent",display:"flex"}},placeholder:function(){return{color:d,opacity:.5,fontStyle:"italic"}},indicatorSeparator:function(e){return Object(I.a)(Object(I.a)({},e),{},{backgroundColor:d})},dropdownIndicator:function(e,t){var a=t.selectProps.isLoading;return Object(I.a)(Object(I.a)({},e),{},{color:d,opacity:a?.5:1,"&:hover":{color:""},padding:"0.5em 0 0.5em 1em"})},singleValue:function(){return{color:d}},loadingIndicator:function(e){return Object(I.a)(Object(I.a)({},e),{},{color:d})},valueContainer:function(e){return Object(I.a)(Object(I.a)({},e),{},{padding:0})}},b=!0,h=null,j=s.substring(0,1).toUpperCase()+s.substring(1);switch(a){case"empty":e="No Options",b=!1;break;case"waiting":e="Awaiting Parameters...";break;case"loading":e="Loading Options...";break;case"display":e=o,b=!1,h=Object.keys(n).map((function(e){return n[e]}))}return Object(x.jsxs)("div",{className:"selector-set",children:[Object(x.jsx)("div",{className:"super-label",children:j}),Object(x.jsx)(D.a,{styles:u,className:"selector ".concat(s,"-select"),classNamePrefix:"".concat(s,"-select"),isLoading:b,options:h,onChange:r,placeholder:e,isSearchable:i,value:l})]})}}]),a}(D.a),P=a(19),E=a.n(P),A=(a(81),function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).state={},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props,t=e.startDate,a=e.endDate,n=e.setDates,c=e.textColor;switch(this.props.mode){case"combined":return Object(x.jsx)("div",{className:"date-selector",children:Object(x.jsx)(E.a,{selected:t,onChange:function(e){return n(e)},startDate:t,endDate:a,selectsRange:!0,inline:!0})});case"start":return Object(x.jsxs)("div",{className:"date-selector ".concat(c),children:[Object(x.jsx)("div",{className:"super-label",children:"Start"}),Object(x.jsx)(E.a,{selected:t,onChange:function(e){return n([e,a])},selectsStart:!0,startDate:t,endDate:a})]});case"end":return Object(x.jsxs)("div",{className:"date-selector ".concat(c),children:[Object(x.jsx)("div",{className:"super-label",children:"End"}),Object(x.jsx)(E.a,{selected:a,onChange:function(e){return n([t,e])},selectsEnd:!0,startDate:t,endDate:a,minDate:t})]})}}}]),a}(E.a)),R=a(25),q=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).submit=function(){var e={},t=!1;Object.keys(n.state).forEach((function(a){e[a]=n.state[a],""===e[a].value&&"Note"!=e[a].label&&(e[a].blank=!0,t=!0)})),t?n.setState(e):n.props.submit(n.state)},n.updateForm=function(e){console.log(e),n.setState((function(t){return Object(R.a)({},e.target.id,Object(I.a)(Object(I.a)({},t[e.target.id]),{},{value:e.target.value}))}))},n.state={project:{label:"Project",value:"",blank:!1,type:"text"},contact:{label:"Contact",value:"",blank:!1,type:"text"},email:{label:"Email",value:"",blank:!1,type:"email"},phone:{label:"Phone",value:"",blank:!1,type:"text"},note:{label:"Note",value:"",blank:!1,type:"textarea"}},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{className:"modal-layer",children:[Object(x.jsx)("div",{className:"modal",children:Object(x.jsxs)("div",{id:"submitQuote",className:"modal-container",style:{width:"500px"},children:[Object(x.jsx)("div",{className:"modal-header barlow",children:"Request Quote"}),Object(x.jsx)("div",{className:"modal-body",children:Object.keys(this.state).map((function(t){var a=e.state[t];return Object(x.jsxs)("div",{className:"input-set ".concat(a.type),children:[Object(x.jsx)("div",{className:"input-set-label",children:a.label}),"textarea"===a.type?Object(x.jsx)("textarea",{id:t,type:a.type,className:a.blank?"fault":"",onChange:function(t){return e.updateForm(t)},value:a.value}):Object(x.jsx)("input",{id:t,type:a.type,className:a.blank?"fault":"",onChange:function(t){return e.updateForm(t)},value:a.value})]})}))}),Object(x.jsxs)("div",{className:"panel-buttons",children:[Object(x.jsxs)("div",{className:"text-button secondary dim",onClick:this.props.cancel,children:[Object(x.jsx)("i",{children:"do_disturb"}),Object(x.jsx)("span",{children:"Cancel"})]}),Object(x.jsxs)("div",{className:"text-button",onClick:this.submit,children:[Object(x.jsx)("i",{children:"send"}),Object(x.jsx)("span",{children:"Submit"})]})]})]})}),Object(x.jsx)("div",{className:"modal-backdrop abs",onClick:this.props.cancel})]})}}]),a}(c.a.Component),L="https://demo.rentalworksweb.com/api/v1",V=[{name:"RENTAL",code:"R",label:"Rental"},{name:"SALES",code:"S",label:"Sales"},{name:"PARTS",code:"P",label:"Parts"}],F=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(b.a)(this,a),(e=t.call(this)).addItemToCart=function(){var t=Object(u.a)(d.a.mark((function t(a,n,c){var s,r,i,l,b,h,j,p,m;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=e.state,r=s.cartList,i=s.activity,l=s.warehouse,b=s.inventoryType,h=s.category,j=O.a.isEmpty(r),p=function(){var t=Object(u.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAccessories(a.id);case 2:return n=t.sent,t.next=5,Promise.all(n.Rows.map(function(){var e=Object(u.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t,n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));case 5:t.sent;case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var e=Object(u.a)(d.a.mark((function e(t,a,n){var s,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n?t[52]:1,"ITEM"==(u={branchChain:n?[].concat(Object(o.a)(n.branchChain),[t[7]+"x"+t[0]]):[i.name,l.name,b.name,h.name,t[7]],quantity:{actual:t[51]?0:Math.ceil(s*c),fraction:t[51]?0:s*c,default:s},available:t[22],details:t,icode:t[5],id:t[2],index:a,name:t[7],parent:n,rate:t[35],type:t[19],isOption:t[51],isShort:!1,activity:i,warehouse:l,inventoryType:b,category:h}).type||"ACCESSORY"==u.type){e.next=5;break}return e.next=5,p(u);case 5:r[u.branchChain.join("~")]=u;case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),console.log("q is",c,"and availability is",a[22]),c=Math.min(c,a[22]),!r[n]){t.next=10;break}Object.keys(r).forEach((function(e){0===e.indexOf(n)&&(c<=0&&!r[n].isOption?delete r[e]:(r[e].isOption?r[e].isOption&&e===n&&(r[e].quantity.fraction=c):r[e].quantity.fraction=r[e].quantity.default*c,r[e].quantity.fraction<0&&(r[e].quantity.fraction=0),r[e].quantity.actual=Math.ceil(r[e].quantity.fraction)))})),t.next=13;break;case 10:if(a[51]||0==c){t.next=13;break}return t.next=13,m(a);case 13:j&&e.toggleCart("in"),console.log("cartList:",r),e.setState({cartList:r});case 16:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),e.clearCart=function(){e.setState({cartList:{}})},e.changeRoute=function(t){e.setState({route:t})},e.getCategories=Object(u.a)(d.a.mark((function t(){var a,n,c,s,r,i,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,n=a.credentials,c=a.activity,s=a.inventoryType,!e.state.inventoryType){t.next=14;break}return e.page=1,t.next=5,fetch("".concat(L,"/").concat(c.name,"category/browse"),{method:"POST",headers:{Authorization:"Bearer ".concat(n.access_token),"content-type":"application/json"},body:JSON.stringify({orderby:"Category",searchfieldoperators:["<>","="],searchfields:["Inactive","InventoryTypeId"],searchfieldtypes:["Text","Text"],searchfieldvalues:["T","".concat(s.id)],searchseparators:[","]})}).catch((function(e){return console.log(e)}));case 5:return r=t.sent,t.next=8,r.json();case 8:return i=t.sent,o={},i.Rows.forEach((function(e,t){o[e[2]]={id:e[2],value:e[2],name:e[3],label:e[3],index:t}})),t.abrupt("return",o);case 14:return t.abrupt("return",void 0);case 15:case"end":return t.stop()}}),t)}))),e.getCredentials=function(){fetch("".concat(L,"/jwt"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({UserName:"joshua",Password:"icardius"})}).then((function(e){return e.json()})).then((function(t){console.log("api credentials:",t),e.setState({credentials:t})})).catch((function(e,t){console.log(e,"response:",t)}))},e.getInventory=Object(u.a)(d.a.mark((function t(){var a,n,c,s,r,i,o,l,u;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,n=a.warehouse,c=a.activity,s=a.inventoryType,r=a.category,i=a.startDate,o=a.endDate,!(n&&s&&r)){t.next=12;break}return t.next=4,fetch("".concat(L,"/inventorysearch/search"),{method:"POST",headers:{Authorization:"Bearer ".concat(e.state.credentials.access_token),"content-type":"application/json"},body:JSON.stringify({OrderId:"0000KG53",SessionId:"0000KG53",CurrencyId:"0000000E",WarehouseId:n.id,AvailableFor:c.code,InventoryTypeId:s.id,CategoryId:r.id,Classifiction:"",FromDate:i,ToDate:o,HideInventoryWithZeroQuantity:!0,ShowAvailability:!0,ShowImages:!0})}).catch((function(e){return console.log("error:",e)}));case 4:return l=t.sent,t.next=7,l.json();case 7:return u=t.sent,console.log("loaded inventory:",u),t.abrupt("return",u);case 12:return t.abrupt("return",null);case 13:case"end":return t.stop()}}),t)}))),e.getAccessories=function(){var t=Object(u.a)(d.a.mark((function t(a){var n,c,s,r,i,o,l,u;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state,c=n.warehouse,n.activity,s=n.inventoryType,r=n.category,i=n.startDate,o=n.endDate,!(c&&s&&r)){t.next=12;break}return t.next=4,fetch("".concat(L,"/inventorysearch/accessories"),{method:"POST",headers:{Authorization:"Bearer ".concat(e.state.credentials.access_token),"content-type":"application/json"},body:JSON.stringify({OrderId:"0000KG53",SessionId:"0000KG53",Lineage:a,WarehouseId:c.id,FromDate:i,ToDate:o,ShowAvailability:!0,ShowImages:!0})}).catch((function(e){return console.log("error:",e)}));case 4:return l=t.sent,t.next=7,l.json();case 7:return u=t.sent,console.log("loaded accessories:",u),t.abrupt("return",u);case 12:return t.abrupt("return",null);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getInventoryTypes=function(){var t=Object(u.a)(d.a.mark((function t(a){var n,c,s,r,i,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,c=n.credentials,s=n.activity,n.warehouse,t.next=3,fetch("".concat(L,"/inventorytype/browse"),{method:"POST",headers:{Authorization:"Bearer ".concat(c.access_token),"content-type":"application/json"},body:JSON.stringify({orderby:"OrderBy",searchfieldoperators:["<>","="],searchfields:["Inactive",s.label],searchfieldtypes:["Text","Boolean"],searchfieldvalues:["T",!0]})}).catch((function(e){return console.log(e)}));case 3:return r=t.sent,t.next=6,r.json();case 6:return i=t.sent,o={},i.Rows.forEach((function(e,t){o[e[0]]={id:e[0],value:e[0],name:e[1],label:e[1],index:t}})),t.abrupt("return",o);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getWarehouses=function(){var t=Object(u.a)(d.a.mark((function t(a){var n,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(L,"/warehouse/browse"),{method:"POST",headers:{Authorization:"Bearer ".concat(e.state.credentials.access_token),"content-type":"application/json"},body:JSON.stringify({orderby:"Warehouse",searchfieldoperators:["<>"],searchfields:["Inactive"],searchfieldtypes:["Text"],searchfieldvalues:["T"]})}).catch((function(e){return console.log(e)}));case 2:return n=t.sent,t.next=5,n.json();case 5:return c=t.sent,s={},c.Rows.forEach((function(e,t){s[e[0]]={id:e[0],value:e[0],name:e[1],label:e[1],code:e[2],index:t}})),t.abrupt("return",s);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.setMainModal=function(t){e.setState({mainModal:t})},e.setCategory=function(t){t?e.setState({category:t}):console.log("category not set")},e.setDates=function(t){var a=Object(i.a)(t,2),n=a[0],c=a[1],s=e.getNumberOfDays(n,c);e.setState({startDate:n,endDate:c,quotePeriod:s})},e.setInventoryType=function(t){t?e.setState({inventoryType:t,category:null}):console.log("inventoryType not set")},e.setActivity=function(t){e.setState({activity:t,inventoryType:null})},e.setWarehouse=function(t){t?e.setState({warehouse:t}):console.log("warehouse not set")},e.submitModal=function(){var t=Object(x.jsx)(q,{submit:e.submitQuote,cancel:function(){return e.setMainModal(null)}});e.setMainModal(t)},e.submitQuote=function(t){console.log(t);var a=Object(x.jsxs)("div",{className:"modal-layer",children:[Object(x.jsx)("div",{className:"modal",children:Object(x.jsxs)("div",{id:"submitQuote",className:"modal-container",children:[Object(x.jsx)("div",{className:"modal-header barlow",children:"Confirmation"}),Object(x.jsx)("div",{className:"modal-body",style:{padding:"50px"},children:"Quote Requested!"}),Object(x.jsx)("div",{className:"panel-buttons",children:Object(x.jsxs)("div",{className:"text-button secondary dim",onClick:function(){return e.setMainModal(null)},children:[Object(x.jsx)("i",{children:"do_disturb"}),Object(x.jsx)("span",{children:"Close"})]})})]})}),Object(x.jsx)("div",{className:"modal-backdrop abs",onClick:function(){return e.setMainModal(null)}})]});e.setState({route:"catalog",mainModal:a,activity:V[0],inventoryType:null,category:null,subcategory:null,cartList:{},startDate:new Date,endDate:new Date,quotePeriod:1,cartMode:"out"})},e.checkAvailability=function(t,a,n){fetch("".concat(L,"/inventoryavailability/getinventoryavailability"),{method:"POST",headers:{Authorization:"Bearer ".concat(e.state.credentials.access_token),"content-type":"application/json"},body:{InventoryId:t,Warehouse:e.state.warehouse,FromDate:a,ToDate:n}})},e.toggleCart=function(t){var a=e.state.cartMode,n=void 0;n="string"===typeof t?t:"in"===a?"out":"in",e.setState({cartMode:n})},e.getNumberOfDays=function(e,t){var a=new Date(e),n=new Date(t).getTime()-a.getTime();return Math.round(n/864e5)+1},e.state={route:"home",mainModal:null,credentials:null,activity:V[0],inventoryType:null,category:null,subCategory:null,warehouse:null,customer:"",email:"",cartList:{},startDate:new Date,endDate:new Date,quotePeriod:1,cartMode:"out"},e.branding={primary:{hue:parseInt(getComputedStyle(document.body).getPropertyValue("--primary-hue")),sat:parseInt(getComputedStyle(document.body).getPropertyValue("--primary-sat").slice(0,-1)),lum:parseInt(getComputedStyle(document.body).getPropertyValue("--primary-lum").slice(0,-1))},secondary:{hue:parseInt(getComputedStyle(document.body).getPropertyValue("--secondary-hue")),sat:parseInt(getComputedStyle(document.body).getPropertyValue("--secondary-sat").slice(0,-1)),lum:parseInt(getComputedStyle(document.body).getPropertyValue("--secondary-lum").slice(0,-1))},background:{hue:parseInt(getComputedStyle(document.body).getPropertyValue("--background-hue")),sat:parseInt(getComputedStyle(document.body).getPropertyValue("--background-sat").slice(0,-1)),lum:parseInt(getComputedStyle(document.body).getPropertyValue("--background-lum").slice(0,-1))}},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object.keys(this.branding).forEach((function(t){e.branding[t].contrast="black",e.branding[t].max="0%",e.branding[t].min="100%";var a=e.branding[t],n=a.hue,c=a.lum;(c<40||c<70&&(n<45||n>185))&&(e.branding[t].contrast="white",e.branding[t].max="100%",e.branding[t].min="0%"),document.body.style.setProperty("--".concat(t,"-contrast"),e.branding[t].contrast),document.body.style.setProperty("--".concat(t,"-max"),e.branding[t].max),document.body.style.setProperty("--".concat(t,"-min"),e.branding[t].min)})),this.getCredentials()}},{key:"render",value:function(){var e,t,a,n,c=this,s=this.state,r=s.route,i=s.mainModal,o=s.warehouse,l=s.activity,d=s.inventoryType,u=s.category,b=(s.subcategory,s.startDate),h=s.endDate,j=s.quotePeriod,p=s.cartList,m=s.cartMode,O=void 0,y=this.branding.primary.contrast,f=(this.branding.secondary.contrast,this.branding.background.contrast);switch(r){case"home":e=Object(x.jsxs)("div",{className:"header-banner",children:[Object(x.jsx)("div",{className:"banner-content",children:Object(x.jsx)("h1",{children:"Welcome!"})}),Object(x.jsx)("div",{className:"banner-background",children:Object(x.jsx)("img",{src:"https://h7f7z2r7.stackpathcdn.com/sites/default/files/images/articles/blakcstonemain.jpg"})})]}),a=Object(x.jsx)("div",{});break;case"catalog":if(this.state.credentials)switch(this.state.credentials.statuscode){case 0:t=Object(x.jsxs)("div",{className:"column left",style:{color:y,borderColor:y},children:[Object(x.jsx)("div",{className:"column-header param-set",children:Object(x.jsxs)("h1",{children:[Object(x.jsx)("i",{children:"tune"}),"PARAMETERS"]})}),Object(x.jsxs)("div",{className:"param-set",children:[Object(x.jsx)(A,{startDate:b,endDate:h,mode:"start",setDates:this.setDates,textColor:y}),Object(x.jsx)(A,{startDate:b,endDate:h,mode:"end",setDates:this.setDates,textColor:y})]}),Object(x.jsx)("div",{className:"param-set",children:Object(x.jsx)(N,{name:"Activity Type",options:V,selected:l.name,action:this.setActivity})}),Object(x.jsx)("div",{className:"param-set",children:Object(x.jsx)(M,{name:"warehouse",loader:this.getWarehouses,action:this.setWarehouse,reloadOn:[l],placeholder:"Select a Warehouse",searchable:!1,textColor:y,preload:!0})}),Object(x.jsx)("div",{className:"param-set",children:Object(x.jsx)(M,{name:"Inventory Type",loader:this.getInventoryTypes,action:this.setInventoryType,reloadOn:[l,o],placeholder:"Select an Inventory Type",searchable:!0,textColor:y,value:d})}),Object(x.jsx)("div",{className:"param-set",children:Object(x.jsx)(M,{name:"category",loader:this.getCategories,action:this.setCategory,reloadOn:[l,o,d],placeholder:"Select a Category",searchable:!0,textColor:y,value:u})})]}),a=Object(x.jsxs)("div",{className:"column center",style:{color:f,borderColor:f},children:[Object(x.jsx)("div",{className:"column-header param set",children:Object(x.jsxs)("h1",{children:[Object(x.jsx)("i",{children:"menu_book"}),l.label.toUpperCase()," CATALOG"]})}),Object(x.jsx)(w,{loader:this.getInventory,getAccessories:this.getAccessories,activity:l,warehouse:o,inventoryType:d,category:u,startDate:b,endDate:h,addItemToCart:this.addItemToCart,cart:p,backgroundContrast:f})]}),n=Object(x.jsx)("div",{className:"column right",children:Object(x.jsx)(T,{cartMode:m,cartList:p,activityList:V,quotePeriod:j,updateCart:this.addItemToCart,clearCart:this.clearCart,submitQuote:this.submitModal,toggleCart:this.toggleCart})}),O=Object(x.jsxs)("article",{children:[i,Object(x.jsx)("div",{className:"body-margin"}),Object(x.jsxs)("div",{className:"body-main",children:[t,a]}),Object(x.jsx)("div",{className:"body-margin",children:n})]});break;case void 0:a=Object(x.jsx)("div",{className:"modal",children:Object(x.jsx)(v,{textColor:f})});break;default:console.log("there was a problem loading your credentials")}else O=Object(x.jsx)("div",{className:"modal abs",children:Object(x.jsx)(v,{input:"CONNECTING TO DATABASE",textColor:f})})}return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsxs)("header",{children:[Object(x.jsxs)("nav",{children:[Object(x.jsx)("div",{className:"margin-left"}),Object(x.jsx)("div",{className:"main-nav",children:Object(x.jsxs)("ul",{style:{color:y},children:[Object(x.jsx)("li",{onClick:function(){return c.changeRoute("catalog")},children:"Get a Quote"}),Object(x.jsx)("li",{children:"Call an Agent"}),Object(x.jsx)("li",{children:"Our Website"}),Object(x.jsx)("li",{children:"News"})]})}),Object(x.jsx)("div",{className:"margin-right"})]}),e]}),O]})}}]),a}(c.a.Component),_=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,156)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};r.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(F,{})}),document.getElementById("root")),_()},64:function(e,t,a){},66:function(e,t,a){}},[[154,1,2]]]);
//# sourceMappingURL=main.601e28da.chunk.js.map